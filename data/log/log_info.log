24-08-12.15:27:54.009 [main            ] INFO  Application            - Starting Application using Java 1.8.0_412 on lumine.local with PID 29644 (/Users/lumine/code/java/xlm-market/xlm-market-app/target/classes started by lumine in /Users/lumine/code/java/xlm-market)
24-08-12.15:27:54.010 [main            ] INFO  Application            - The following 1 profile is active: "dev"
24-08-12.15:27:54.808 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-08-12.15:27:54.809 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-08-12.15:27:54.835 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 16 ms. Found 0 Redis repository interfaces.
24-08-12.15:27:55.340 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port(s): 8091 (http)
24-08-12.15:27:55.346 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
24-08-12.15:27:55.346 [main            ] INFO  StandardService        - Starting service [Tomcat]
24-08-12.15:27:55.346 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/9.0.75]
24-08-12.15:27:55.400 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
24-08-12.15:27:55.400 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1363 ms
24-08-12.15:27:55.689 [main            ] INFO  Version                - Redisson 3.23.4
24-08-12.15:27:55.704 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-08-12.15:27:55.793 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-08-12.15:27:55.801 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-08-12.15:27:57.068 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-08-12.15:27:57.133 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
24-08-12.15:27:57.144 [main            ] INFO  TomcatWebServer        - Tomcat started on port(s): 8091 (http) with context path ''
24-08-12.15:27:57.145 [main            ] INFO  CachingConnectionFactory - Attempting to connect to: [127.0.0.1:5672]
24-08-12.15:27:57.166 [main            ] INFO  CachingConnectionFactory - Created new connection: rabbitConnectionFactory#5b02a984:0/SimpleConnection@73da7f08 [delegate=amqp://admin@127.0.0.1:5672/, localPort= 53354]
24-08-12.15:27:57.216 [main            ] INFO  Application            - Started Application in 3.475 seconds (JVM running for 4.541)
24-08-12.15:27:57.441 [RMI TCP Connection(1)-127.0.0.1] INFO  [/]                    - Initializing Spring DispatcherServlet 'dispatcherServlet'
24-08-12.15:27:57.441 [RMI TCP Connection(1)-127.0.0.1] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
24-08-12.15:27:57.443 [RMI TCP Connection(1)-127.0.0.1] INFO  DispatcherServlet      - Completed initialization in 2 ms
24-08-12.15:27:57.443 [RMI TCP Connection(2)-127.0.0.1] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-08-12.15:27:58.061 [RMI TCP Connection(2)-127.0.0.1] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-08-12.15:27:58.098 [RMI TCP Connection(2)-127.0.0.1] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-08-12.15:27:58.461 [RMI TCP Connection(2)-127.0.0.1] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-08-12.15:28:00.008 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:28:00.031 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:28:05.002 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:28:05.007 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:28:05.960 [http-nio-8091-exec-10] INFO  RaffleActivityController - 查询sku商品集合开始 activityId:0
24-08-12.15:28:05.960 [http-nio-8091-exec-14] INFO  RaffleActivityController - 查询sku商品集合开始 activityId:0
24-08-12.15:28:05.961 [http-nio-8091-exec-14] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-08-12.15:28:05.964 [http-nio-8091-exec-8] INFO  RaffleActivityController - 查询用户积分值开始 userId:null
24-08-12.15:28:05.964 [http-nio-8091-exec-13] INFO  RaffleActivityController - 查询用户是否完成日历签到返利开始 userId:null
24-08-12.15:28:05.964 [http-nio-8091-exec-11] INFO  RaffleActivityController - 查询用户积分值开始 userId:null
24-08-12.15:28:05.964 [http-nio-8091-exec-9] INFO  RaffleActivityController - 查询用户是否完成日历签到返利开始 userId:null
24-08-12.15:28:06.035 [http-nio-8091-exec-13] INFO  RaffleActivityController - 查询用户是否完成日历签到返利完成 userId:null orders.size:0
24-08-12.15:28:06.035 [http-nio-8091-exec-9] INFO  RaffleActivityController - 查询用户是否完成日历签到返利完成 userId:null orders.size:0
24-08-12.15:28:06.040 [http-nio-8091-exec-8] ERROR RaffleActivityController - 查询用户积分值失败 userId:null
java.lang.NullPointerException: null
	at com.xlm.infrastructure.persistent.repository.CreditRepository.queryUserCreditAccount(CreditRepository.java:149)
	at com.xlm.infrastructure.persistent.repository.CreditRepository$$FastClassBySpringCGLIB$$c1866ad9.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.xlm.infrastructure.persistent.repository.CreditRepository$$EnhancerBySpringCGLIB$$e30a8146.queryUserCreditAccount(<generated>)
	at com.xlm.domain.credit.service.CreditAdjustService.queryUserCreditAccount(CreditAdjustService.java:73)
	at com.xlm.trigger.http.RaffleActivityController.queryUserCreditAccount(RaffleActivityController.java:333)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
24-08-12.15:28:06.040 [http-nio-8091-exec-11] ERROR RaffleActivityController - 查询用户积分值失败 userId:null
java.lang.NullPointerException: null
	at com.xlm.infrastructure.persistent.repository.CreditRepository.queryUserCreditAccount(CreditRepository.java:149)
	at com.xlm.infrastructure.persistent.repository.CreditRepository$$FastClassBySpringCGLIB$$c1866ad9.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.xlm.infrastructure.persistent.repository.CreditRepository$$EnhancerBySpringCGLIB$$e30a8146.queryUserCreditAccount(<generated>)
	at com.xlm.domain.credit.service.CreditAdjustService.queryUserCreditAccount(CreditAdjustService.java:73)
	at com.xlm.trigger.http.RaffleActivityController.queryUserCreditAccount(RaffleActivityController.java:333)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
24-08-12.15:28:06.061 [http-nio-8091-exec-15] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置开始 userId:null activityId：0
24-08-12.15:28:06.061 [http-nio-8091-exec-8] INFO  RaffleStrategyController - 查询抽奖奖品列表配开始 userId:null activityId：0
24-08-12.15:28:06.061 [http-nio-8091-exec-16] INFO  RaffleStrategyController - 查询抽奖奖品列表配开始 userId:null activityId：0
24-08-12.15:28:06.061 [http-nio-8091-exec-9] INFO  RaffleStrategyController - 查询抽奖奖品列表配开始 userId:null activityId：0
24-08-12.15:28:06.096 [http-nio-8091-exec-15] ERROR RaffleStrategyController - 查询抽奖策略权重规则配置失败 userId:null activityId：0
java.lang.NullPointerException: null
	at com.xlm.infrastructure.persistent.repository.ActivityRepository.queryRaffleActivityAccountPartakeCount(ActivityRepository.java:726)
	at com.xlm.infrastructure.persistent.repository.ActivityRepository$$FastClassBySpringCGLIB$$a7ddf9ef.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.xlm.infrastructure.persistent.repository.ActivityRepository$$EnhancerBySpringCGLIB$$55204c48.queryRaffleActivityAccountPartakeCount(<generated>)
	at com.xlm.domain.activity.service.quota.RaffleActivityAccountQuotaService.queryRaffleActivityAccountPartakeCount(RaffleActivityAccountQuotaService.java:94)
	at com.xlm.trigger.http.RaffleStrategyController.queryRaffleStrategyRuleWeight(RaffleStrategyController.java:202)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
24-08-12.15:28:06.108 [http-nio-8091-exec-17] INFO  RaffleStrategyController - 查询抽奖奖品列表配开始 userId:null activityId：0
24-08-12.15:28:06.446 [http-nio-8091-exec-14] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-08-12.15:28:06.563 [http-nio-8091-exec-14] INFO  RaffleActivityController - 查询sku商品集合完成 activityId:0 skuProductResponseDTOS:[]
24-08-12.15:28:06.563 [http-nio-8091-exec-10] INFO  RaffleActivityController - 查询sku商品集合完成 activityId:0 skuProductResponseDTOS:[]
24-08-12.15:28:06.566 [http-nio-8091-exec-18] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置开始 userId:null activityId：0
24-08-12.15:28:06.566 [http-nio-8091-exec-19] INFO  RaffleActivityController - 查询用户活动账户开始 userId:null activityId:0
24-08-12.15:28:06.606 [http-nio-8091-exec-18] ERROR RaffleStrategyController - 查询抽奖策略权重规则配置失败 userId:null activityId：0
java.lang.NullPointerException: null
	at com.xlm.infrastructure.persistent.repository.ActivityRepository.queryRaffleActivityAccountPartakeCount(ActivityRepository.java:726)
	at com.xlm.infrastructure.persistent.repository.ActivityRepository$$FastClassBySpringCGLIB$$a7ddf9ef.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.xlm.infrastructure.persistent.repository.ActivityRepository$$EnhancerBySpringCGLIB$$55204c48.queryRaffleActivityAccountPartakeCount(<generated>)
	at com.xlm.domain.activity.service.quota.RaffleActivityAccountQuotaService.queryRaffleActivityAccountPartakeCount(RaffleActivityAccountQuotaService.java:94)
	at com.xlm.trigger.http.RaffleStrategyController.queryRaffleStrategyRuleWeight(RaffleStrategyController.java:202)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
24-08-12.15:28:06.609 [http-nio-8091-exec-20] INFO  RaffleActivityController - 查询用户活动账户开始 userId:null activityId:0
24-08-12.15:28:06.653 [http-nio-8091-exec-19] INFO  RaffleActivityController - 查询用户活动账户完成 userId:null activityId:0 dto:{"dayCount":0,"dayCountSurplus":0,"monthCount":0,"monthCountSurplus":0,"totalCount":0,"totalCountSurplus":0}
24-08-12.15:28:06.653 [http-nio-8091-exec-20] INFO  RaffleActivityController - 查询用户活动账户完成 userId:null activityId:0 dto:{"dayCount":0,"dayCountSurplus":0,"monthCount":0,"monthCountSurplus":0,"totalCount":0,"totalCountSurplus":0}
24-08-12.15:28:06.699 [http-nio-8091-exec-8] INFO  RaffleStrategyController - 查询抽奖奖品列表配置完成 userId:null activityId：0 response: {"code":"0000","data":[],"info":"调用成功"}
24-08-12.15:28:06.792 [http-nio-8091-exec-17] INFO  RaffleStrategyController - 查询抽奖奖品列表配置完成 userId:null activityId：0 response: {"code":"0000","data":[],"info":"调用成功"}
24-08-12.15:28:06.792 [http-nio-8091-exec-9] INFO  RaffleStrategyController - 查询抽奖奖品列表配置完成 userId:null activityId：0 response: {"code":"0000","data":[],"info":"调用成功"}
24-08-12.15:28:06.846 [http-nio-8091-exec-16] INFO  RaffleStrategyController - 查询抽奖奖品列表配置完成 userId:null activityId：0 response: {"code":"0000","data":[],"info":"调用成功"}
24-08-12.15:28:10.000 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:28:10.003 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:28:15.004 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:28:15.010 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:28:18.042 [http-nio-8091-exec-24] INFO  RaffleStrategyController - 查询抽奖奖品列表配开始 userId:null activityId：0
24-08-12.15:28:18.042 [http-nio-8091-exec-21] INFO  RaffleStrategyController - 查询抽奖奖品列表配开始 userId:null activityId：0
24-08-12.15:28:18.042 [http-nio-8091-exec-23] INFO  RaffleStrategyController - 查询抽奖奖品列表配开始 userId:null activityId：0
24-08-12.15:28:18.042 [http-nio-8091-exec-22] INFO  RaffleStrategyController - 查询抽奖奖品列表配开始 userId:null activityId：0
24-08-12.15:28:18.063 [http-nio-8091-exec-27] INFO  RaffleActivityController - 查询sku商品集合开始 activityId:0
24-08-12.15:28:18.064 [http-nio-8091-exec-26] INFO  RaffleActivityController - 查询sku商品集合开始 activityId:0
24-08-12.15:28:18.184 [http-nio-8091-exec-27] INFO  RaffleActivityController - 查询sku商品集合完成 activityId:0 skuProductResponseDTOS:[]
24-08-12.15:28:18.185 [http-nio-8091-exec-26] INFO  RaffleActivityController - 查询sku商品集合完成 activityId:0 skuProductResponseDTOS:[]
24-08-12.15:28:18.191 [http-nio-8091-exec-30] INFO  RaffleActivityController - 查询用户积分值开始 userId:null
24-08-12.15:28:18.191 [http-nio-8091-exec-25] INFO  RaffleActivityController - 查询用户活动账户开始 userId:null activityId:0
24-08-12.15:28:18.290 [http-nio-8091-exec-25] INFO  RaffleActivityController - 查询用户活动账户完成 userId:null activityId:0 dto:{"dayCount":0,"dayCountSurplus":0,"monthCount":0,"monthCountSurplus":0,"totalCount":0,"totalCountSurplus":0}
24-08-12.15:28:18.294 [http-nio-8091-exec-29] INFO  RaffleActivityController - 查询用户是否完成日历签到返利开始 userId:null
24-08-12.15:28:18.323 [http-nio-8091-exec-24] INFO  RaffleStrategyController - 查询抽奖奖品列表配置完成 userId:null activityId：0 response: {"code":"0000","data":[],"info":"调用成功"}
24-08-12.15:28:18.323 [http-nio-8091-exec-30] ERROR RaffleActivityController - 查询用户积分值失败 userId:null
java.lang.NullPointerException: null
	at com.xlm.infrastructure.persistent.repository.CreditRepository.queryUserCreditAccount(CreditRepository.java:149)
	at com.xlm.infrastructure.persistent.repository.CreditRepository$$FastClassBySpringCGLIB$$c1866ad9.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.xlm.infrastructure.persistent.repository.CreditRepository$$EnhancerBySpringCGLIB$$e30a8146.queryUserCreditAccount(<generated>)
	at com.xlm.domain.credit.service.CreditAdjustService.queryUserCreditAccount(CreditAdjustService.java:73)
	at com.xlm.trigger.http.RaffleActivityController.queryUserCreditAccount(RaffleActivityController.java:333)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
24-08-12.15:28:18.327 [http-nio-8091-exec-22] INFO  RaffleStrategyController - 查询抽奖奖品列表配置完成 userId:null activityId：0 response: {"code":"0000","data":[],"info":"调用成功"}
24-08-12.15:28:18.329 [http-nio-8091-exec-29] INFO  RaffleActivityController - 查询用户是否完成日历签到返利完成 userId:null orders.size:0
24-08-12.15:28:18.327 [http-nio-8091-exec-21] INFO  RaffleStrategyController - 查询抽奖奖品列表配置完成 userId:null activityId：0 response: {"code":"0000","data":[],"info":"调用成功"}
24-08-12.15:28:18.330 [http-nio-8091-exec-28] INFO  RaffleActivityController - 查询用户活动账户开始 userId:null activityId:0
24-08-12.15:28:18.330 [http-nio-8091-exec-22] INFO  RaffleActivityController - 查询用户积分值开始 userId:null
24-08-12.15:28:18.332 [http-nio-8091-exec-21] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置开始 userId:null activityId：0
24-08-12.15:28:18.334 [http-nio-8091-exec-31] INFO  RaffleActivityController - 查询用户是否完成日历签到返利开始 userId:null
24-08-12.15:28:18.338 [http-nio-8091-exec-34] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置开始 userId:null activityId：0
24-08-12.15:28:18.394 [http-nio-8091-exec-31] INFO  RaffleActivityController - 查询用户是否完成日历签到返利完成 userId:null orders.size:0
24-08-12.15:28:18.394 [http-nio-8091-exec-21] ERROR RaffleStrategyController - 查询抽奖策略权重规则配置失败 userId:null activityId：0
java.lang.NullPointerException: null
	at com.xlm.infrastructure.persistent.repository.ActivityRepository.queryRaffleActivityAccountPartakeCount(ActivityRepository.java:726)
	at com.xlm.infrastructure.persistent.repository.ActivityRepository$$FastClassBySpringCGLIB$$a7ddf9ef.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.xlm.infrastructure.persistent.repository.ActivityRepository$$EnhancerBySpringCGLIB$$55204c48.queryRaffleActivityAccountPartakeCount(<generated>)
	at com.xlm.domain.activity.service.quota.RaffleActivityAccountQuotaService.queryRaffleActivityAccountPartakeCount(RaffleActivityAccountQuotaService.java:94)
	at com.xlm.trigger.http.RaffleStrategyController.queryRaffleStrategyRuleWeight(RaffleStrategyController.java:202)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
24-08-12.15:28:18.394 [http-nio-8091-exec-23] INFO  RaffleStrategyController - 查询抽奖奖品列表配置完成 userId:null activityId：0 response: {"code":"0000","data":[],"info":"调用成功"}
24-08-12.15:28:18.394 [http-nio-8091-exec-28] INFO  RaffleActivityController - 查询用户活动账户完成 userId:null activityId:0 dto:{"dayCount":0,"dayCountSurplus":0,"monthCount":0,"monthCountSurplus":0,"totalCount":0,"totalCountSurplus":0}
24-08-12.15:28:18.394 [http-nio-8091-exec-22] ERROR RaffleActivityController - 查询用户积分值失败 userId:null
java.lang.NullPointerException: null
	at com.xlm.infrastructure.persistent.repository.CreditRepository.queryUserCreditAccount(CreditRepository.java:149)
	at com.xlm.infrastructure.persistent.repository.CreditRepository$$FastClassBySpringCGLIB$$c1866ad9.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.xlm.infrastructure.persistent.repository.CreditRepository$$EnhancerBySpringCGLIB$$e30a8146.queryUserCreditAccount(<generated>)
	at com.xlm.domain.credit.service.CreditAdjustService.queryUserCreditAccount(CreditAdjustService.java:73)
	at com.xlm.trigger.http.RaffleActivityController.queryUserCreditAccount(RaffleActivityController.java:333)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
24-08-12.15:28:18.394 [http-nio-8091-exec-34] ERROR RaffleStrategyController - 查询抽奖策略权重规则配置失败 userId:null activityId：0
java.lang.NullPointerException: null
	at com.xlm.infrastructure.persistent.repository.ActivityRepository.queryRaffleActivityAccountPartakeCount(ActivityRepository.java:726)
	at com.xlm.infrastructure.persistent.repository.ActivityRepository$$FastClassBySpringCGLIB$$a7ddf9ef.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.xlm.infrastructure.persistent.repository.ActivityRepository$$EnhancerBySpringCGLIB$$55204c48.queryRaffleActivityAccountPartakeCount(<generated>)
	at com.xlm.domain.activity.service.quota.RaffleActivityAccountQuotaService.queryRaffleActivityAccountPartakeCount(RaffleActivityAccountQuotaService.java:94)
	at com.xlm.trigger.http.RaffleStrategyController.queryRaffleStrategyRuleWeight(RaffleStrategyController.java:202)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
24-08-12.15:28:20.004 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:28:20.008 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:28:25.006 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:28:25.010 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:28:30.001 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:28:30.007 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:28:35.004 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:28:35.009 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:28:40.001 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:28:40.006 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:28:41.599 [http-nio-8091-exec-33] INFO  RaffleStrategyController - 查询抽奖奖品列表配开始 userId:xlm activityId：0
24-08-12.15:28:41.599 [http-nio-8091-exec-35] INFO  RaffleStrategyController - 查询抽奖奖品列表配开始 userId:xlm activityId：0
24-08-12.15:28:41.599 [http-nio-8091-exec-36] INFO  RaffleStrategyController - 查询抽奖奖品列表配开始 userId:xlm activityId：0
24-08-12.15:28:41.602 [http-nio-8091-exec-38] INFO  RaffleStrategyController - 查询抽奖奖品列表配开始 userId:xlm activityId：0
24-08-12.15:28:41.614 [http-nio-8091-exec-39] INFO  RaffleActivityController - 查询sku商品集合开始 activityId:0
24-08-12.15:28:41.614 [http-nio-8091-exec-37] INFO  RaffleActivityController - 查询sku商品集合开始 activityId:0
24-08-12.15:28:41.694 [http-nio-8091-exec-39] INFO  RaffleActivityController - 查询sku商品集合完成 activityId:0 skuProductResponseDTOS:[]
24-08-12.15:28:41.698 [http-nio-8091-exec-40] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置开始 userId:xlm activityId：0
24-08-12.15:28:41.721 [http-nio-8091-exec-37] INFO  RaffleActivityController - 查询sku商品集合完成 activityId:0 skuProductResponseDTOS:[]
24-08-12.15:28:41.727 [http-nio-8091-exec-41] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置开始 userId:xlm activityId：0
24-08-12.15:28:41.762 [http-nio-8091-exec-40] ERROR RaffleStrategyController - 查询抽奖策略权重规则配置失败 userId:xlm activityId：0
java.lang.NullPointerException: null
	at com.xlm.infrastructure.persistent.repository.ActivityRepository.queryRaffleActivityAccountPartakeCount(ActivityRepository.java:726)
	at com.xlm.infrastructure.persistent.repository.ActivityRepository$$FastClassBySpringCGLIB$$a7ddf9ef.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.xlm.infrastructure.persistent.repository.ActivityRepository$$EnhancerBySpringCGLIB$$55204c48.queryRaffleActivityAccountPartakeCount(<generated>)
	at com.xlm.domain.activity.service.quota.RaffleActivityAccountQuotaService.queryRaffleActivityAccountPartakeCount(RaffleActivityAccountQuotaService.java:94)
	at com.xlm.trigger.http.RaffleStrategyController.queryRaffleStrategyRuleWeight(RaffleStrategyController.java:202)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
24-08-12.15:28:41.765 [http-nio-8091-exec-42] INFO  RaffleActivityController - 查询用户活动账户开始 userId:xlm activityId:0
24-08-12.15:28:41.785 [http-nio-8091-exec-36] INFO  RaffleStrategyController - 查询抽奖奖品列表配置完成 userId:xlm activityId：0 response: {"code":"0000","data":[],"info":"调用成功"}
24-08-12.15:28:41.787 [http-nio-8091-exec-35] INFO  RaffleStrategyController - 查询抽奖奖品列表配置完成 userId:xlm activityId：0 response: {"code":"0000","data":[],"info":"调用成功"}
24-08-12.15:28:41.786 [http-nio-8091-exec-41] ERROR RaffleStrategyController - 查询抽奖策略权重规则配置失败 userId:xlm activityId：0
java.lang.NullPointerException: null
	at com.xlm.infrastructure.persistent.repository.ActivityRepository.queryRaffleActivityAccountPartakeCount(ActivityRepository.java:726)
	at com.xlm.infrastructure.persistent.repository.ActivityRepository$$FastClassBySpringCGLIB$$a7ddf9ef.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.xlm.infrastructure.persistent.repository.ActivityRepository$$EnhancerBySpringCGLIB$$55204c48.queryRaffleActivityAccountPartakeCount(<generated>)
	at com.xlm.domain.activity.service.quota.RaffleActivityAccountQuotaService.queryRaffleActivityAccountPartakeCount(RaffleActivityAccountQuotaService.java:94)
	at com.xlm.trigger.http.RaffleStrategyController.queryRaffleStrategyRuleWeight(RaffleStrategyController.java:202)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
24-08-12.15:28:41.790 [http-nio-8091-exec-43] INFO  RaffleActivityController - 查询用户积分值开始 userId:xlm
24-08-12.15:28:41.791 [http-nio-8091-exec-35] INFO  RaffleActivityController - 查询用户是否完成日历签到返利开始 userId:xlm
24-08-12.15:28:41.791 [http-nio-8091-exec-45] INFO  RaffleActivityController - 查询用户活动账户开始 userId:xlm activityId:0
24-08-12.15:28:41.866 [http-nio-8091-exec-33] INFO  RaffleStrategyController - 查询抽奖奖品列表配置完成 userId:xlm activityId：0 response: {"code":"0000","data":[],"info":"调用成功"}
24-08-12.15:28:41.866 [http-nio-8091-exec-45] INFO  RaffleActivityController - 查询用户活动账户完成 userId:xlm activityId:0 dto:{"dayCount":0,"dayCountSurplus":0,"monthCount":0,"monthCountSurplus":0,"totalCount":0,"totalCountSurplus":0}
24-08-12.15:28:41.866 [http-nio-8091-exec-42] INFO  RaffleActivityController - 查询用户活动账户完成 userId:xlm activityId:0 dto:{"dayCount":0,"dayCountSurplus":0,"monthCount":0,"monthCountSurplus":0,"totalCount":0,"totalCountSurplus":0}
24-08-12.15:28:41.866 [http-nio-8091-exec-35] INFO  RaffleActivityController - 查询用户是否完成日历签到返利完成 userId:xlm orders.size:0
24-08-12.15:28:41.868 [http-nio-8091-exec-48] INFO  RaffleActivityController - 查询用户是否完成日历签到返利开始 userId:xlm
24-08-12.15:28:41.869 [http-nio-8091-exec-38] INFO  RaffleStrategyController - 查询抽奖奖品列表配置完成 userId:xlm activityId：0 response: {"code":"0000","data":[],"info":"调用成功"}
24-08-12.15:28:41.869 [http-nio-8091-exec-46] INFO  RaffleActivityController - 查询用户积分值开始 userId:xlm
24-08-12.15:28:41.869 [http-nio-8091-exec-43] INFO  RaffleActivityController - 查询用户积分值完成 userId:xlm adjustAmount:-3.36
24-08-12.15:28:41.902 [http-nio-8091-exec-46] INFO  RaffleActivityController - 查询用户积分值完成 userId:xlm adjustAmount:-3.36
24-08-12.15:28:41.902 [http-nio-8091-exec-48] INFO  RaffleActivityController - 查询用户是否完成日历签到返利完成 userId:xlm orders.size:0
24-08-12.15:28:45.005 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:28:45.009 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:28:50.001 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:28:50.005 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:28:55.004 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:28:55.007 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:29:00.006 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:29:00.010 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:29:05.003 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:29:05.006 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:29:10.002 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:29:10.004 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:29:15.006 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:29:15.010 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:29:20.005 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:29:20.009 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:29:25.003 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:29:25.006 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:29:29.454 [http-nio-8091-exec-49] INFO  RaffleStrategyController - 查询抽奖奖品列表配开始 userId:xlm activityId：100301
24-08-12.15:29:29.454 [http-nio-8091-exec-47] INFO  RaffleStrategyController - 查询抽奖奖品列表配开始 userId:xlm activityId：100301
24-08-12.15:29:29.454 [http-nio-8091-exec-50] INFO  RaffleStrategyController - 查询抽奖奖品列表配开始 userId:xlm activityId：100301
24-08-12.15:29:29.457 [http-nio-8091-exec-5] INFO  RaffleStrategyController - 查询抽奖奖品列表配开始 userId:xlm activityId：100301
24-08-12.15:29:29.468 [http-nio-8091-exec-3] INFO  RaffleActivityController - 查询sku商品集合开始 activityId:100301
24-08-12.15:29:29.468 [http-nio-8091-exec-6] INFO  RaffleActivityController - 查询sku商品集合开始 activityId:100301
24-08-12.15:29:29.612 [http-nio-8091-exec-6] INFO  RaffleActivityController - 查询sku商品集合完成 activityId:100301 skuProductResponseDTOS:[{"activityCount":{"dayCount":100,"monthCount":100,"totalCount":100},"activityCountId":11101,"productAmount":1.68,"sku":9011,"stockCount":100000,"stockCountSurplus":99887}]
24-08-12.15:29:29.612 [http-nio-8091-exec-3] INFO  RaffleActivityController - 查询sku商品集合完成 activityId:100301 skuProductResponseDTOS:[{"activityCount":{"dayCount":100,"monthCount":100,"totalCount":100},"activityCountId":11101,"productAmount":1.68,"sku":9011,"stockCount":100000,"stockCountSurplus":99887}]
24-08-12.15:29:29.617 [http-nio-8091-exec-4] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置开始 userId:xlm activityId：100301
24-08-12.15:29:29.617 [http-nio-8091-exec-2] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置开始 userId:xlm activityId：100301
24-08-12.15:29:29.696 [http-nio-8091-exec-5] INFO  RaffleStrategyController - 查询抽奖奖品列表配置完成 userId:xlm activityId：100301 response: {"code":"0000","data":[{"awardId":101,"awardTitle":"随机积分","isAwardUnlock":true,"sort":1,"waitUnLockCount":0},{"awardId":102,"awardTitle":"OpenAI会员卡","isAwardUnlock":true,"sort":2,"waitUnLockCount":0},{"awardId":103,"awardTitle":"支付优惠券","isAwardUnlock":true,"sort":3,"waitUnLockCount":0},{"awardId":104,"awardTitle":"小米台灯","isAwardUnlock":true,"sort":4,"waitUnLockCount":0},{"awardId":105,"awardRuleLockCount":3,"awardSubtitle":"抽奖3次后解锁","awardTitle":"小米su7周体验","isAwardUnlock":false,"sort":5,"waitUnLockCount":3},{"awardId":106,"awardRuleLockCount":2,"awardSubtitle":"抽奖2次后解锁","awardTitle":"轻奢办公椅","isAwardUnlock":false,"sort":6,"waitUnLockCount":2},{"awardId":107,"awardRuleLockCount":1,"awardSubtitle":"抽奖1次后解锁","awardTitle":"小霸王游戏机","isAwardUnlock":false,"sort":7,"waitUnLockCount":1},{"awardId":108,"awardTitle":"暴走玩偶","isAwardUnlock":true,"sort":8,"waitUnLockCount":0}],"info":"调用成功"}
24-08-12.15:29:29.700 [http-nio-8091-exec-1] INFO  RaffleActivityController - 查询用户活动账户开始 userId:xlm activityId:100301
24-08-12.15:29:29.750 [http-nio-8091-exec-49] INFO  RaffleStrategyController - 查询抽奖奖品列表配置完成 userId:xlm activityId：100301 response: {"code":"0000","data":[{"awardId":101,"awardTitle":"随机积分","isAwardUnlock":true,"sort":1,"waitUnLockCount":0},{"awardId":102,"awardTitle":"OpenAI会员卡","isAwardUnlock":true,"sort":2,"waitUnLockCount":0},{"awardId":103,"awardTitle":"支付优惠券","isAwardUnlock":true,"sort":3,"waitUnLockCount":0},{"awardId":104,"awardTitle":"小米台灯","isAwardUnlock":true,"sort":4,"waitUnLockCount":0},{"awardId":105,"awardRuleLockCount":3,"awardSubtitle":"抽奖3次后解锁","awardTitle":"小米su7周体验","isAwardUnlock":false,"sort":5,"waitUnLockCount":3},{"awardId":106,"awardRuleLockCount":2,"awardSubtitle":"抽奖2次后解锁","awardTitle":"轻奢办公椅","isAwardUnlock":false,"sort":6,"waitUnLockCount":2},{"awardId":107,"awardRuleLockCount":1,"awardSubtitle":"抽奖1次后解锁","awardTitle":"小霸王游戏机","isAwardUnlock":false,"sort":7,"waitUnLockCount":1},{"awardId":108,"awardTitle":"暴走玩偶","isAwardUnlock":true,"sort":8,"waitUnLockCount":0}],"info":"调用成功"}
24-08-12.15:29:29.750 [http-nio-8091-exec-47] INFO  RaffleStrategyController - 查询抽奖奖品列表配置完成 userId:xlm activityId：100301 response: {"code":"0000","data":[{"awardId":101,"awardTitle":"随机积分","isAwardUnlock":true,"sort":1,"waitUnLockCount":0},{"awardId":102,"awardTitle":"OpenAI会员卡","isAwardUnlock":true,"sort":2,"waitUnLockCount":0},{"awardId":103,"awardTitle":"支付优惠券","isAwardUnlock":true,"sort":3,"waitUnLockCount":0},{"awardId":104,"awardTitle":"小米台灯","isAwardUnlock":true,"sort":4,"waitUnLockCount":0},{"awardId":105,"awardRuleLockCount":3,"awardSubtitle":"抽奖3次后解锁","awardTitle":"小米su7周体验","isAwardUnlock":false,"sort":5,"waitUnLockCount":3},{"awardId":106,"awardRuleLockCount":2,"awardSubtitle":"抽奖2次后解锁","awardTitle":"轻奢办公椅","isAwardUnlock":false,"sort":6,"waitUnLockCount":2},{"awardId":107,"awardRuleLockCount":1,"awardSubtitle":"抽奖1次后解锁","awardTitle":"小霸王游戏机","isAwardUnlock":false,"sort":7,"waitUnLockCount":1},{"awardId":108,"awardTitle":"暴走玩偶","isAwardUnlock":true,"sort":8,"waitUnLockCount":0}],"info":"调用成功"}
24-08-12.15:29:29.754 [http-nio-8091-exec-12] INFO  RaffleActivityController - 查询用户是否完成日历签到返利开始 userId:xlm
24-08-12.15:29:29.754 [http-nio-8091-exec-7] INFO  RaffleActivityController - 查询用户积分值开始 userId:xlm
24-08-12.15:29:29.755 [http-nio-8091-exec-50] INFO  RaffleStrategyController - 查询抽奖奖品列表配置完成 userId:xlm activityId：100301 response: {"code":"0000","data":[{"awardId":101,"awardTitle":"随机积分","isAwardUnlock":true,"sort":1,"waitUnLockCount":0},{"awardId":102,"awardTitle":"OpenAI会员卡","isAwardUnlock":true,"sort":2,"waitUnLockCount":0},{"awardId":103,"awardTitle":"支付优惠券","isAwardUnlock":true,"sort":3,"waitUnLockCount":0},{"awardId":104,"awardTitle":"小米台灯","isAwardUnlock":true,"sort":4,"waitUnLockCount":0},{"awardId":105,"awardRuleLockCount":3,"awardSubtitle":"抽奖3次后解锁","awardTitle":"小米su7周体验","isAwardUnlock":false,"sort":5,"waitUnLockCount":3},{"awardId":106,"awardRuleLockCount":2,"awardSubtitle":"抽奖2次后解锁","awardTitle":"轻奢办公椅","isAwardUnlock":false,"sort":6,"waitUnLockCount":2},{"awardId":107,"awardRuleLockCount":1,"awardSubtitle":"抽奖1次后解锁","awardTitle":"小霸王游戏机","isAwardUnlock":false,"sort":7,"waitUnLockCount":1},{"awardId":108,"awardTitle":"暴走玩偶","isAwardUnlock":true,"sort":8,"waitUnLockCount":0}],"info":"调用成功"}
24-08-12.15:29:29.758 [http-nio-8091-exec-13] INFO  RaffleActivityController - 查询用户活动账户开始 userId:xlm activityId:100301
24-08-12.15:29:29.819 [http-nio-8091-exec-7] INFO  RaffleActivityController - 查询用户积分值完成 userId:xlm adjustAmount:-3.36
24-08-12.15:29:29.823 [http-nio-8091-exec-12] INFO  RaffleActivityController - 查询用户是否完成日历签到返利完成 userId:xlm orders.size:0
24-08-12.15:29:29.824 [http-nio-8091-exec-11] INFO  RaffleActivityController - 查询用户积分值开始 userId:xlm
24-08-12.15:29:29.826 [http-nio-8091-exec-15] INFO  RaffleActivityController - 查询用户是否完成日历签到返利开始 userId:xlm
24-08-12.15:29:29.862 [http-nio-8091-exec-15] INFO  RaffleActivityController - 查询用户是否完成日历签到返利完成 userId:xlm orders.size:0
24-08-12.15:29:29.862 [http-nio-8091-exec-1] INFO  RaffleActivityController - 查询用户活动账户完成 userId:xlm activityId:100301 dto:{"dayCount":200,"dayCountSurplus":200,"monthCount":200,"monthCountSurplus":200,"totalCount":200,"totalCountSurplus":200}
24-08-12.15:29:29.865 [http-nio-8091-exec-11] INFO  RaffleActivityController - 查询用户积分值完成 userId:xlm adjustAmount:-3.36
24-08-12.15:29:29.893 [http-nio-8091-exec-13] INFO  RaffleActivityController - 查询用户活动账户完成 userId:xlm activityId:100301 dto:{"dayCount":200,"dayCountSurplus":200,"monthCount":200,"monthCountSurplus":200,"totalCount":200,"totalCountSurplus":200}
24-08-12.15:29:30.004 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:29:30.006 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:29:30.049 [http-nio-8091-exec-4] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置完成 userId:xlm activityId：100301 response: {"code":"0000","data":[{"ruleWeightCount":70,"strategyAwards":[{"awardId":106,"awardTitle":"轻奢办公椅"},{"awardId":107,"awardTitle":"小霸王游戏机"}],"userActivityAccountTotalUseCount":0},{"ruleWeightCount":10,"strategyAwards":[{"awardId":102,"awardTitle":"OpenAI会员卡"},{"awardId":103,"awardTitle":"支付优惠券"}],"userActivityAccountTotalUseCount":0},{"ruleWeightCount":1000,"strategyAwards":[{"awardId":104,"awardTitle":"小米台灯"},{"awardId":105,"awardTitle":"小米su7周体验"}],"userActivityAccountTotalUseCount":0}],"info":"调用成功"}
24-08-12.15:29:30.089 [http-nio-8091-exec-2] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置完成 userId:xlm activityId：100301 response: {"code":"0000","data":[{"ruleWeightCount":70,"strategyAwards":[{"awardId":106,"awardTitle":"轻奢办公椅"},{"awardId":107,"awardTitle":"小霸王游戏机"}],"userActivityAccountTotalUseCount":0},{"ruleWeightCount":10,"strategyAwards":[{"awardId":102,"awardTitle":"OpenAI会员卡"},{"awardId":103,"awardTitle":"支付优惠券"}],"userActivityAccountTotalUseCount":0},{"ruleWeightCount":1000,"strategyAwards":[{"awardId":104,"awardTitle":"小米台灯"},{"awardId":105,"awardTitle":"小米su7周体验"}],"userActivityAccountTotalUseCount":0}],"info":"调用成功"}
24-08-12.15:29:35.005 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:29:35.008 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:29:40.005 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:29:40.007 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:29:45.000 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:29:45.002 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:29:50.005 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:29:50.007 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:29:53.470 [http-nio-8091-exec-14] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId: xlm strategyId: 100006 ruleModel: rule_blacklist
24-08-12.15:29:53.508 [http-nio-8091-exec-14] INFO  RuleWeightLogicChain   - RuleWeightLogicChain start strategyId:100006,userId:xlm
24-08-12.15:29:53.550 [http-nio-8091-exec-14] ERROR RaffleActivityController - 活动抽奖失败 userId:xlm activityId:100301
com.xlm.types.exception.AppException: null
	at com.xlm.infrastructure.persistent.repository.StrategyRepository.getRateRange(StrategyRepository.java:107)
	at com.xlm.infrastructure.persistent.repository.StrategyRepository.getRateRange(StrategyRepository.java:100)
	at com.xlm.infrastructure.persistent.repository.StrategyRepository$$FastClassBySpringCGLIB$$619b7d53.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.xlm.infrastructure.persistent.repository.StrategyRepository$$EnhancerBySpringCGLIB$$402414f4.getRateRange(<generated>)
	at com.xlm.domain.strategy.service.armory.StrategyArmoryDispatch.getRandomAwardId(StrategyArmoryDispatch.java:117)
	at com.xlm.domain.strategy.service.rule.chain.impl.DefaultLogicChain.logic(DefaultLogicChain.java:24)
	at com.xlm.domain.strategy.service.rule.chain.impl.RuleWeightLogicChain.logic(RuleWeightLogicChain.java:68)
	at com.xlm.domain.strategy.service.rule.chain.impl.BackListLogicChain.logic(BackListLogicChain.java:46)
	at com.xlm.domain.strategy.service.raffle.DefaultRaffleStrategy.raffleLogicChain(DefaultRaffleStrategy.java:43)
	at com.xlm.domain.strategy.service.AbstractRaffleStrategy.performRaffle(AbstractRaffleStrategy.java:51)
	at com.xlm.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:126)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
24-08-12.15:29:55.004 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:29:55.008 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:29:58.273 [http-nio-8091-exec-18] INFO  RaffleStrategyController - 查询抽奖奖品列表配开始 userId:xlm activityId：100301
24-08-12.15:29:58.544 [http-nio-8091-exec-18] INFO  RaffleStrategyController - 查询抽奖奖品列表配置完成 userId:xlm activityId：100301 response: {"code":"0000","data":[{"awardId":101,"awardTitle":"随机积分","isAwardUnlock":true,"sort":1,"waitUnLockCount":0},{"awardId":102,"awardTitle":"OpenAI会员卡","isAwardUnlock":true,"sort":2,"waitUnLockCount":0},{"awardId":103,"awardTitle":"支付优惠券","isAwardUnlock":true,"sort":3,"waitUnLockCount":0},{"awardId":104,"awardTitle":"小米台灯","isAwardUnlock":true,"sort":4,"waitUnLockCount":0},{"awardId":105,"awardRuleLockCount":3,"awardSubtitle":"抽奖3次后解锁","awardTitle":"小米su7周体验","isAwardUnlock":false,"sort":5,"waitUnLockCount":2},{"awardId":106,"awardRuleLockCount":2,"awardSubtitle":"抽奖2次后解锁","awardTitle":"轻奢办公椅","isAwardUnlock":false,"sort":6,"waitUnLockCount":1},{"awardId":107,"awardRuleLockCount":1,"awardSubtitle":"抽奖1次后解锁","awardTitle":"小霸王游戏机","isAwardUnlock":true,"sort":7,"waitUnLockCount":0},{"awardId":108,"awardTitle":"暴走玩偶","isAwardUnlock":true,"sort":8,"waitUnLockCount":0}],"info":"调用成功"}
24-08-12.15:29:58.770 [http-nio-8091-exec-19] INFO  RaffleActivityController - 活动装配，数据预热，开始 activityId:100301
24-08-12.15:29:59.029 [http-nio-8091-exec-19] INFO  RaffleActivityController - 活动装配，数据预热，完成 activityId:100301
24-08-12.15:30:00.000 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:30:00.004 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:30:04.008 [http-nio-8091-exec-8] INFO  AbstractRaffleActivityPartake - 创建参与活动订单 userId:xlm activityId:100301 userRaffleOrderEntity:{"activityId":100301,"activityName":"测试活动","orderId":"083134575979","orderState":"create","orderTime":1723447793000,"strategyId":100006,"userId":"xlm"}
24-08-12.15:30:04.010 [http-nio-8091-exec-8] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId: xlm strategyId: 100006 ruleModel: rule_blacklist
24-08-12.15:30:04.083 [http-nio-8091-exec-8] INFO  RuleWeightLogicChain   - RuleWeightLogicChain start strategyId:100006,userId:xlm
24-08-12.15:30:04.119 [http-nio-8091-exec-8] INFO  DefaultLogicChain      - 【默认抽奖规则】userId:xlm,strategyId:100006,awardId:104
24-08-12.15:30:04.122 [http-nio-8091-exec-8] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 xlm 100006 104 rule_default
24-08-12.15:30:04.269 [http-nio-8091-exec-8] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:xlm strategyId:100006 awardId:104
24-08-12.15:30:04.272 [http-nio-8091-exec-8] INFO  StrategyRepository     - 策略奖品库存加锁失败 strategy_award_count_key_100006_104_99
24-08-12.15:30:04.272 [http-nio-8091-exec-8] WARN  RuleStockLogicTreeNode - 规则过滤-库存扣减-告警，库存不足。userId:xlm strategyId:100006 awardId:104
24-08-12.15:30:04.273 [http-nio-8091-exec-8] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
24-08-12.15:30:04.274 [http-nio-8091-exec-8] INFO  RuleLuckAwardLogicTreeNode - 规则过滤-兜底奖品 userId:xlm strategyId:100006 awardId:104 ruleValue:101:1,100
24-08-12.15:30:04.274 [http-nio-8091-exec-8] INFO  RuleLuckAwardLogicTreeNode - 规则过滤-兜底奖品 userId:xlm strategyId:100006 awardId:101 awardRuleValue:1,100
24-08-12.15:30:04.275 [http-nio-8091-exec-8] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_luck_award code:0001
24-08-12.15:30:04.275 [http-nio-8091-exec-8] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 xlm 100006 101 1,100
24-08-12.15:30:04.701 [http-nio-8091-exec-8] INFO  EventPublisher         - 发送MQ消息 topic:send_award message:{"data":{"awardConfig":"1,100","awardId":101,"awardTitle":"随机积分","orderId":"083134575979","userId":"xlm"},"id":"01506033384","timestamp":1723447804374}
24-08-12.15:30:04.712 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] INFO  SendAwardCustomer      - 监听用户奖品发送消息 topic: send_award message: {"data":{"awardConfig":"1,100","awardId":101,"awardTitle":"随机积分","orderId":"083134575979","userId":"xlm"},"id":"01506033384","timestamp":1723447804374}
24-08-12.15:30:04.793 [http-nio-8091-exec-9] INFO  RaffleActivityController - 查询用户积分值开始 userId:xlm
24-08-12.15:30:04.793 [http-nio-8091-exec-16] INFO  RaffleActivityController - 查询用户是否完成日历签到返利开始 userId:xlm
24-08-12.15:30:04.793 [http-nio-8091-exec-17] INFO  RaffleActivityController - 查询用户活动账户开始 userId:xlm activityId:100301
24-08-12.15:30:04.793 [http-nio-8091-exec-26] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置开始 userId:xlm activityId：100301
24-08-12.15:30:04.890 [http-nio-8091-exec-16] INFO  RaffleActivityController - 查询用户是否完成日历签到返利完成 userId:xlm orders.size:0
24-08-12.15:30:04.891 [http-nio-8091-exec-9] INFO  RaffleActivityController - 查询用户积分值完成 userId:xlm adjustAmount:-3.36
24-08-12.15:30:04.925 [http-nio-8091-exec-17] INFO  RaffleActivityController - 查询用户活动账户完成 userId:xlm activityId:100301 dto:{"dayCount":200,"dayCountSurplus":199,"monthCount":200,"monthCountSurplus":199,"totalCount":200,"totalCountSurplus":199}
24-08-12.15:30:04.967 [http-nio-8091-exec-26] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置完成 userId:xlm activityId：100301 response: {"code":"0000","data":[{"ruleWeightCount":70,"strategyAwards":[{"awardId":106,"awardTitle":"轻奢办公椅"},{"awardId":107,"awardTitle":"小霸王游戏机"}],"userActivityAccountTotalUseCount":1},{"ruleWeightCount":10,"strategyAwards":[{"awardId":102,"awardTitle":"OpenAI会员卡"},{"awardId":103,"awardTitle":"支付优惠券"}],"userActivityAccountTotalUseCount":1},{"ruleWeightCount":1000,"strategyAwards":[{"awardId":104,"awardTitle":"小米台灯"},{"awardId":105,"awardTitle":"小米su7周体验"}],"userActivityAccountTotalUseCount":1}],"info":"调用成功"}
24-08-12.15:30:05.005 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:30:05.007 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:30:07.367 [http-nio-8091-exec-27] INFO  RaffleStrategyController - 查询抽奖奖品列表配开始 userId:xlm activityId：100301
24-08-12.15:30:07.570 [http-nio-8091-exec-27] INFO  RaffleStrategyController - 查询抽奖奖品列表配置完成 userId:xlm activityId：100301 response: {"code":"0000","data":[{"awardId":101,"awardTitle":"随机积分","isAwardUnlock":true,"sort":1,"waitUnLockCount":0},{"awardId":102,"awardTitle":"OpenAI会员卡","isAwardUnlock":true,"sort":2,"waitUnLockCount":0},{"awardId":103,"awardTitle":"支付优惠券","isAwardUnlock":true,"sort":3,"waitUnLockCount":0},{"awardId":104,"awardTitle":"小米台灯","isAwardUnlock":true,"sort":4,"waitUnLockCount":0},{"awardId":105,"awardRuleLockCount":3,"awardSubtitle":"抽奖3次后解锁","awardTitle":"小米su7周体验","isAwardUnlock":false,"sort":5,"waitUnLockCount":2},{"awardId":106,"awardRuleLockCount":2,"awardSubtitle":"抽奖2次后解锁","awardTitle":"轻奢办公椅","isAwardUnlock":false,"sort":6,"waitUnLockCount":1},{"awardId":107,"awardRuleLockCount":1,"awardSubtitle":"抽奖1次后解锁","awardTitle":"小霸王游戏机","isAwardUnlock":true,"sort":7,"waitUnLockCount":0},{"awardId":108,"awardTitle":"暴走玩偶","isAwardUnlock":true,"sort":8,"waitUnLockCount":0}],"info":"调用成功"}
24-08-12.15:30:10.003 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:30:10.005 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:30:10.188 [http-nio-8091-exec-30] INFO  RaffleActivityController - 查询用户积分值开始 userId:xlm
24-08-12.15:30:10.188 [http-nio-8091-exec-24] INFO  RaffleActivityController - 查询用户是否完成日历签到返利开始 userId:xlm
24-08-12.15:30:10.189 [http-nio-8091-exec-25] INFO  RaffleActivityController - 查询用户活动账户开始 userId:xlm activityId:100301
24-08-12.15:30:10.233 [http-nio-8091-exec-30] INFO  RaffleActivityController - 查询用户积分值完成 userId:xlm adjustAmount:94.74
24-08-12.15:30:10.260 [http-nio-8091-exec-24] INFO  RaffleActivityController - 查询用户是否完成日历签到返利完成 userId:xlm orders.size:0
24-08-12.15:30:10.324 [http-nio-8091-exec-25] INFO  RaffleActivityController - 查询用户活动账户完成 userId:xlm activityId:100301 dto:{"dayCount":200,"dayCountSurplus":199,"monthCount":200,"monthCountSurplus":199,"totalCount":200,"totalCountSurplus":199}
24-08-12.15:30:15.002 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:30:15.005 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:30:15.765 [http-nio-8091-exec-29] INFO  RaffleActivityController - 日历签到返利开始 userId:xlm
24-08-12.15:30:16.284 [http-nio-8091-exec-29] INFO  EventPublisher         - 发送MQ消息 topic:send_rebate message:{"data":{"bizId":"xlm_integral_20240812","rebateConfig":"10","rebateType":"integral","userId":"xlm"},"id":"17372848798","timestamp":1723447815859}
24-08-12.15:30:16.288 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  RebateMessageCustomer  - 监听用户行为返利消息 topic: send_rebate message: {"data":{"bizId":"xlm_integral_20240812","rebateConfig":"10","rebateType":"integral","userId":"xlm"},"id":"17372848798","timestamp":1723447815859}
24-08-12.15:30:16.299 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  CreditAdjustService    - 账户积分额度开始 userId:xlm tradeName:REBATE amount:10
24-08-12.15:30:16.356 [http-nio-8091-exec-29] INFO  RaffleActivityController - 日历签到返利完成 userId:xlm orderIds: ["696028579390"]
24-08-12.15:30:16.746 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  EventPublisher         - 发送MQ消息 topic:credit_adjust_success message:{"data":{"amount":10,"orderId":"939466854748","outBusinessNo":"xlm_integral_20240812","userId":"xlm"},"id":"85033439223","timestamp":1723447816300}
24-08-12.15:30:16.749 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  CreditAdjustSuccessCustomer - 监听积分账户调整成功消息，进行交易商品发货 topic: credit_adjust_success message: {"data":{"amount":10,"orderId":"939466854748","outBusinessNo":"xlm_integral_20240812","userId":"xlm"},"id":"85033439223","timestamp":1723447816300}
24-08-12.15:30:16.846 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  CreditRepository       - 调整账户积分记录，发送MQ消息完成 userId: xlm orderId:939466854748 topic: credit_adjust_success
24-08-12.15:30:16.846 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  CreditAdjustService    - 账户积分额度完成 userId:xlm orderId:939466854748
24-08-12.15:30:16.918 [http-nio-8091-exec-28] INFO  RaffleActivityController - 查询用户是否完成日历签到返利开始 userId:xlm
24-08-12.15:30:16.918 [http-nio-8091-exec-23] INFO  RaffleActivityController - 查询用户积分值开始 userId:xlm
24-08-12.15:30:16.918 [http-nio-8091-exec-32] INFO  RaffleActivityController - 查询用户活动账户开始 userId:xlm activityId:100301
24-08-12.15:30:16.947 [http-nio-8091-exec-23] INFO  RaffleActivityController - 查询用户积分值完成 userId:xlm adjustAmount:104.74
24-08-12.15:30:16.948 [http-nio-8091-exec-28] INFO  RaffleActivityController - 查询用户是否完成日历签到返利完成 userId:xlm orders.size:1
24-08-12.15:30:17.073 [http-nio-8091-exec-32] INFO  RaffleActivityController - 查询用户活动账户完成 userId:xlm activityId:100301 dto:{"dayCount":200,"dayCountSurplus":199,"monthCount":200,"monthCountSurplus":199,"totalCount":200,"totalCountSurplus":199}
24-08-12.15:30:18.816 [http-nio-8091-exec-21] INFO  RaffleActivityController - 查询用户积分值开始 userId:xlm
24-08-12.15:30:18.817 [http-nio-8091-exec-34] INFO  RaffleActivityController - 查询用户是否完成日历签到返利开始 userId:xlm
24-08-12.15:30:18.817 [http-nio-8091-exec-31] INFO  RaffleActivityController - 查询用户活动账户开始 userId:xlm activityId:100301
24-08-12.15:30:18.872 [http-nio-8091-exec-21] INFO  RaffleActivityController - 查询用户积分值完成 userId:xlm adjustAmount:104.74
24-08-12.15:30:18.872 [http-nio-8091-exec-34] INFO  RaffleActivityController - 查询用户是否完成日历签到返利完成 userId:xlm orders.size:1
24-08-12.15:30:18.971 [http-nio-8091-exec-31] INFO  RaffleActivityController - 查询用户活动账户完成 userId:xlm activityId:100301 dto:{"dayCount":200,"dayCountSurplus":199,"monthCount":200,"monthCountSurplus":199,"totalCount":200,"totalCountSurplus":199}
24-08-12.15:30:19.879 [http-nio-8091-exec-39] INFO  RaffleActivityController - 查询用户积分值开始 userId:xlm
24-08-12.15:30:19.879 [http-nio-8091-exec-37] INFO  RaffleActivityController - 查询用户是否完成日历签到返利开始 userId:xlm
24-08-12.15:30:19.879 [http-nio-8091-exec-22] INFO  RaffleActivityController - 查询用户活动账户开始 userId:xlm activityId:100301
24-08-12.15:30:19.969 [http-nio-8091-exec-37] INFO  RaffleActivityController - 查询用户是否完成日历签到返利完成 userId:xlm orders.size:1
24-08-12.15:30:19.969 [http-nio-8091-exec-39] INFO  RaffleActivityController - 查询用户积分值完成 userId:xlm adjustAmount:104.74
24-08-12.15:30:20.005 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:30:20.009 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:30:20.085 [http-nio-8091-exec-22] INFO  RaffleActivityController - 查询用户活动账户完成 userId:xlm activityId:100301 dto:{"dayCount":200,"dayCountSurplus":199,"monthCount":200,"monthCountSurplus":199,"totalCount":200,"totalCountSurplus":199}
24-08-12.15:30:24.190 [http-nio-8091-exec-36] INFO  RaffleActivityController - 积分兑换商品开始 userId:xlm sku:9011
24-08-12.15:30:24.468 [http-nio-8091-exec-36] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-08-12.15:30:24.468 [http-nio-8091-exec-36] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-08-12.15:30:24.470 [http-nio-8091-exec-36] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-08-12.15:30:24.687 [http-nio-8091-exec-36] INFO  RaffleActivityController - 积分兑换商品，创建订单完成 userId:xlm sku:9011 outBusinessNo:900765074979
24-08-12.15:30:24.688 [http-nio-8091-exec-36] INFO  CreditAdjustService    - 账户积分额度开始 userId:xlm tradeName:CONVERT_SKU amount:-1.68
24-08-12.15:30:25.005 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:30:25.008 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:30:25.131 [http-nio-8091-exec-36] INFO  EventPublisher         - 发送MQ消息 topic:credit_adjust_success message:{"data":{"amount":-1.68,"orderId":"068272096886","outBusinessNo":"900765074979","userId":"xlm"},"id":"18358475028","timestamp":1723447824689}
24-08-12.15:30:25.134 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  CreditAdjustSuccessCustomer - 监听积分账户调整成功消息，进行交易商品发货 topic: credit_adjust_success message: {"data":{"amount":-1.68,"orderId":"068272096886","outBusinessNo":"900765074979","userId":"xlm"},"id":"18358475028","timestamp":1723447824689}
24-08-12.15:30:25.193 [http-nio-8091-exec-36] INFO  CreditRepository       - 调整账户积分记录，发送MQ消息完成 userId: xlm orderId:068272096886 topic: credit_adjust_success
24-08-12.15:30:25.193 [http-nio-8091-exec-36] INFO  CreditAdjustService    - 账户积分额度完成 userId:xlm orderId:068272096886
24-08-12.15:30:25.193 [http-nio-8091-exec-36] INFO  RaffleActivityController - 积分兑换商品，支付订单完成  userId:xlm sku:9011 orderId:068272096886
24-08-12.15:30:25.555 [http-nio-8091-exec-33] INFO  RaffleActivityController - 查询用户是否完成日历签到返利开始 userId:xlm
24-08-12.15:30:25.555 [http-nio-8091-exec-41] INFO  RaffleActivityController - 查询用户活动账户开始 userId:xlm activityId:100301
24-08-12.15:30:25.555 [http-nio-8091-exec-35] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置开始 userId:xlm activityId：100301
24-08-12.15:30:25.555 [http-nio-8091-exec-44] INFO  RaffleActivityController - 查询用户积分值开始 userId:xlm
24-08-12.15:30:25.613 [http-nio-8091-exec-44] INFO  RaffleActivityController - 查询用户积分值完成 userId:xlm adjustAmount:103.06
24-08-12.15:30:25.618 [http-nio-8091-exec-33] INFO  RaffleActivityController - 查询用户是否完成日历签到返利完成 userId:xlm orders.size:1
24-08-12.15:30:25.644 [http-nio-8091-exec-35] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置完成 userId:xlm activityId：100301 response: {"code":"0000","data":[{"ruleWeightCount":70,"strategyAwards":[{"awardId":106,"awardTitle":"轻奢办公椅"},{"awardId":107,"awardTitle":"小霸王游戏机"}],"userActivityAccountTotalUseCount":1},{"ruleWeightCount":10,"strategyAwards":[{"awardId":102,"awardTitle":"OpenAI会员卡"},{"awardId":103,"awardTitle":"支付优惠券"}],"userActivityAccountTotalUseCount":1},{"ruleWeightCount":1000,"strategyAwards":[{"awardId":104,"awardTitle":"小米台灯"},{"awardId":105,"awardTitle":"小米su7周体验"}],"userActivityAccountTotalUseCount":1}],"info":"调用成功"}
24-08-12.15:30:25.756 [http-nio-8091-exec-41] INFO  RaffleActivityController - 查询用户活动账户完成 userId:xlm activityId:100301 dto:{"dayCount":300,"dayCountSurplus":299,"monthCount":300,"monthCountSurplus":299,"totalCount":300,"totalCountSurplus":299}
24-08-12.15:30:27.520 [http-nio-8091-exec-45] INFO  RaffleActivityController - 积分兑换商品开始 userId:xlm sku:9011
24-08-12.15:30:27.690 [http-nio-8091-exec-45] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-08-12.15:30:27.690 [http-nio-8091-exec-45] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-08-12.15:30:27.693 [http-nio-8091-exec-45] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-08-12.15:30:27.928 [http-nio-8091-exec-45] INFO  RaffleActivityController - 积分兑换商品，创建订单完成 userId:xlm sku:9011 outBusinessNo:391313155733
24-08-12.15:30:27.929 [http-nio-8091-exec-45] INFO  CreditAdjustService    - 账户积分额度开始 userId:xlm tradeName:CONVERT_SKU amount:-1.68
24-08-12.15:30:28.357 [http-nio-8091-exec-45] INFO  EventPublisher         - 发送MQ消息 topic:credit_adjust_success message:{"data":{"amount":-1.68,"orderId":"002634174330","outBusinessNo":"391313155733","userId":"xlm"},"id":"41855751660","timestamp":1723447827929}
24-08-12.15:30:28.361 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  CreditAdjustSuccessCustomer - 监听积分账户调整成功消息，进行交易商品发货 topic: credit_adjust_success message: {"data":{"amount":-1.68,"orderId":"002634174330","outBusinessNo":"391313155733","userId":"xlm"},"id":"41855751660","timestamp":1723447827929}
24-08-12.15:30:28.479 [http-nio-8091-exec-45] INFO  CreditRepository       - 调整账户积分记录，发送MQ消息完成 userId: xlm orderId:002634174330 topic: credit_adjust_success
24-08-12.15:30:28.479 [http-nio-8091-exec-45] INFO  CreditAdjustService    - 账户积分额度完成 userId:xlm orderId:002634174330
24-08-12.15:30:28.479 [http-nio-8091-exec-45] INFO  RaffleActivityController - 积分兑换商品，支付订单完成  userId:xlm sku:9011 orderId:002634174330
24-08-12.15:30:28.841 [http-nio-8091-exec-48] INFO  RaffleActivityController - 查询用户是否完成日历签到返利开始 userId:xlm
24-08-12.15:30:28.841 [http-nio-8091-exec-42] INFO  RaffleActivityController - 查询用户活动账户开始 userId:xlm activityId:100301
24-08-12.15:30:28.841 [http-nio-8091-exec-38] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置开始 userId:xlm activityId：100301
24-08-12.15:30:28.841 [http-nio-8091-exec-43] INFO  RaffleActivityController - 查询用户积分值开始 userId:xlm
24-08-12.15:30:28.873 [http-nio-8091-exec-48] INFO  RaffleActivityController - 查询用户是否完成日历签到返利完成 userId:xlm orders.size:1
24-08-12.15:30:28.897 [http-nio-8091-exec-43] INFO  RaffleActivityController - 查询用户积分值完成 userId:xlm adjustAmount:101.38
24-08-12.15:30:29.003 [http-nio-8091-exec-38] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置完成 userId:xlm activityId：100301 response: {"code":"0000","data":[{"ruleWeightCount":70,"strategyAwards":[{"awardId":106,"awardTitle":"轻奢办公椅"},{"awardId":107,"awardTitle":"小霸王游戏机"}],"userActivityAccountTotalUseCount":1},{"ruleWeightCount":10,"strategyAwards":[{"awardId":102,"awardTitle":"OpenAI会员卡"},{"awardId":103,"awardTitle":"支付优惠券"}],"userActivityAccountTotalUseCount":1},{"ruleWeightCount":1000,"strategyAwards":[{"awardId":104,"awardTitle":"小米台灯"},{"awardId":105,"awardTitle":"小米su7周体验"}],"userActivityAccountTotalUseCount":1}],"info":"调用成功"}
24-08-12.15:30:29.013 [http-nio-8091-exec-42] INFO  RaffleActivityController - 查询用户活动账户完成 userId:xlm activityId:100301 dto:{"dayCount":300,"dayCountSurplus":299,"monthCount":300,"monthCountSurplus":299,"totalCount":300,"totalCountSurplus":299}
24-08-12.15:30:30.003 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:30:30.007 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存 sku:9011 activityId:100301
24-08-12.15:30:30.308 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:30:30.332 [http-nio-8091-exec-5] INFO  RaffleActivityController - 查询用户积分值开始 userId:xlm
24-08-12.15:30:30.332 [http-nio-8091-exec-49] INFO  RaffleActivityController - 查询用户是否完成日历签到返利开始 userId:xlm
24-08-12.15:30:30.333 [http-nio-8091-exec-6] INFO  RaffleActivityController - 查询用户活动账户开始 userId:xlm activityId:100301
24-08-12.15:30:30.445 [http-nio-8091-exec-49] INFO  RaffleActivityController - 查询用户是否完成日历签到返利完成 userId:xlm orders.size:1
24-08-12.15:30:30.450 [http-nio-8091-exec-5] INFO  RaffleActivityController - 查询用户积分值完成 userId:xlm adjustAmount:101.38
24-08-12.15:30:30.579 [http-nio-8091-exec-6] INFO  RaffleActivityController - 查询用户活动账户完成 userId:xlm activityId:100301 dto:{"dayCount":400,"dayCountSurplus":399,"monthCount":400,"monthCountSurplus":399,"totalCount":400,"totalCountSurplus":399}
24-08-12.15:30:32.154 [http-nio-8091-exec-7] INFO  RaffleActivityController - 查询用户是否完成日历签到返利开始 userId:xlm
24-08-12.15:30:32.154 [http-nio-8091-exec-47] INFO  RaffleActivityController - 查询用户活动账户开始 userId:xlm activityId:100301
24-08-12.15:30:32.155 [http-nio-8091-exec-50] INFO  RaffleActivityController - 查询用户积分值开始 userId:xlm
24-08-12.15:30:32.249 [http-nio-8091-exec-50] INFO  RaffleActivityController - 查询用户积分值完成 userId:xlm adjustAmount:101.38
24-08-12.15:30:32.249 [http-nio-8091-exec-7] INFO  RaffleActivityController - 查询用户是否完成日历签到返利完成 userId:xlm orders.size:1
24-08-12.15:30:32.313 [http-nio-8091-exec-47] INFO  RaffleActivityController - 查询用户活动账户完成 userId:xlm activityId:100301 dto:{"dayCount":400,"dayCountSurplus":399,"monthCount":400,"monthCountSurplus":399,"totalCount":400,"totalCountSurplus":399}
24-08-12.15:30:33.323 [http-nio-8091-exec-12] INFO  RaffleActivityController - 积分兑换商品开始 userId:xlm sku:9011
24-08-12.15:30:33.552 [http-nio-8091-exec-12] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:100301
24-08-12.15:30:33.553 [http-nio-8091-exec-12] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:100301
24-08-12.15:30:33.556 [http-nio-8091-exec-12] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:100301
24-08-12.15:30:33.767 [http-nio-8091-exec-12] INFO  RaffleActivityController - 积分兑换商品，创建订单完成 userId:xlm sku:9011 outBusinessNo:871945896641
24-08-12.15:30:33.767 [http-nio-8091-exec-12] INFO  CreditAdjustService    - 账户积分额度开始 userId:xlm tradeName:CONVERT_SKU amount:-1.68
24-08-12.15:30:34.152 [http-nio-8091-exec-12] INFO  EventPublisher         - 发送MQ消息 topic:credit_adjust_success message:{"data":{"amount":-1.68,"orderId":"495695052105","outBusinessNo":"871945896641","userId":"xlm"},"id":"19623309095","timestamp":1723447833768}
24-08-12.15:30:34.155 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  CreditAdjustSuccessCustomer - 监听积分账户调整成功消息，进行交易商品发货 topic: credit_adjust_success message: {"data":{"amount":-1.68,"orderId":"495695052105","outBusinessNo":"871945896641","userId":"xlm"},"id":"19623309095","timestamp":1723447833768}
24-08-12.15:30:34.223 [http-nio-8091-exec-12] INFO  CreditRepository       - 调整账户积分记录，发送MQ消息完成 userId: xlm orderId:495695052105 topic: credit_adjust_success
24-08-12.15:30:34.223 [http-nio-8091-exec-12] INFO  CreditAdjustService    - 账户积分额度完成 userId:xlm orderId:495695052105
24-08-12.15:30:34.223 [http-nio-8091-exec-12] INFO  RaffleActivityController - 积分兑换商品，支付订单完成  userId:xlm sku:9011 orderId:495695052105
24-08-12.15:30:34.592 [http-nio-8091-exec-11] INFO  RaffleActivityController - 查询用户是否完成日历签到返利开始 userId:xlm
24-08-12.15:30:34.592 [http-nio-8091-exec-1] INFO  RaffleActivityController - 查询用户积分值开始 userId:xlm
24-08-12.15:30:34.593 [http-nio-8091-exec-15] INFO  RaffleActivityController - 查询用户活动账户开始 userId:xlm activityId:100301
24-08-12.15:30:34.593 [http-nio-8091-exec-13] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置开始 userId:xlm activityId：100301
24-08-12.15:30:34.633 [http-nio-8091-exec-11] INFO  RaffleActivityController - 查询用户是否完成日历签到返利完成 userId:xlm orders.size:1
24-08-12.15:30:34.654 [http-nio-8091-exec-1] INFO  RaffleActivityController - 查询用户积分值完成 userId:xlm adjustAmount:99.70
24-08-12.15:30:34.786 [http-nio-8091-exec-13] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置完成 userId:xlm activityId：100301 response: {"code":"0000","data":[{"ruleWeightCount":70,"strategyAwards":[{"awardId":106,"awardTitle":"轻奢办公椅"},{"awardId":107,"awardTitle":"小霸王游戏机"}],"userActivityAccountTotalUseCount":1},{"ruleWeightCount":10,"strategyAwards":[{"awardId":102,"awardTitle":"OpenAI会员卡"},{"awardId":103,"awardTitle":"支付优惠券"}],"userActivityAccountTotalUseCount":1},{"ruleWeightCount":1000,"strategyAwards":[{"awardId":104,"awardTitle":"小米台灯"},{"awardId":105,"awardTitle":"小米su7周体验"}],"userActivityAccountTotalUseCount":1}],"info":"调用成功"}
24-08-12.15:30:34.815 [http-nio-8091-exec-15] INFO  RaffleActivityController - 查询用户活动账户完成 userId:xlm activityId:100301 dto:{"dayCount":400,"dayCountSurplus":399,"monthCount":400,"monthCountSurplus":399,"totalCount":400,"totalCountSurplus":399}
24-08-12.15:30:35.002 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:30:35.004 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存 sku:9011 activityId:100301
24-08-12.15:30:35.082 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:30:35.764 [http-nio-8091-exec-2] INFO  RaffleActivityController - 查询用户积分值开始 userId:xlm
24-08-12.15:30:35.764 [http-nio-8091-exec-10] INFO  RaffleActivityController - 查询用户是否完成日历签到返利开始 userId:xlm
24-08-12.15:30:35.765 [http-nio-8091-exec-4] INFO  RaffleActivityController - 查询用户活动账户开始 userId:xlm activityId:100301
24-08-12.15:30:35.835 [http-nio-8091-exec-10] INFO  RaffleActivityController - 查询用户是否完成日历签到返利完成 userId:xlm orders.size:1
24-08-12.15:30:35.835 [http-nio-8091-exec-2] INFO  RaffleActivityController - 查询用户积分值完成 userId:xlm adjustAmount:99.70
24-08-12.15:30:35.961 [http-nio-8091-exec-4] INFO  RaffleActivityController - 查询用户活动账户完成 userId:xlm activityId:100301 dto:{"dayCount":500,"dayCountSurplus":499,"monthCount":500,"monthCountSurplus":499,"totalCount":500,"totalCountSurplus":499}
24-08-12.15:30:36.184 [http-nio-8091-exec-20] INFO  RaffleActivityController - 查询用户是否完成日历签到返利开始 userId:xlm
24-08-12.15:30:36.184 [http-nio-8091-exec-18] INFO  RaffleActivityController - 查询用户积分值开始 userId:xlm
24-08-12.15:30:36.184 [http-nio-8091-exec-14] INFO  RaffleActivityController - 查询用户活动账户开始 userId:xlm activityId:100301
24-08-12.15:30:36.221 [http-nio-8091-exec-18] INFO  RaffleActivityController - 查询用户积分值完成 userId:xlm adjustAmount:99.70
24-08-12.15:30:36.221 [http-nio-8091-exec-20] INFO  RaffleActivityController - 查询用户是否完成日历签到返利完成 userId:xlm orders.size:1
24-08-12.15:30:36.277 [http-nio-8091-exec-14] INFO  RaffleActivityController - 查询用户活动账户完成 userId:xlm activityId:100301 dto:{"dayCount":500,"dayCountSurplus":499,"monthCount":500,"monthCountSurplus":499,"totalCount":500,"totalCountSurplus":499}
24-08-12.15:30:40.003 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:30:40.006 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存 sku:9011 activityId:100301
24-08-12.15:30:40.128 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:30:41.481 [http-nio-8091-exec-19] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId: xlm strategyId: 100006 ruleModel: rule_blacklist
24-08-12.15:30:41.618 [http-nio-8091-exec-19] INFO  RuleWeightLogicChain   - RuleWeightLogicChain start strategyId:100006,userId:xlm
24-08-12.15:30:41.655 [http-nio-8091-exec-19] INFO  DefaultLogicChain      - 【默认抽奖规则】userId:xlm,strategyId:100006,awardId:103
24-08-12.15:30:41.655 [http-nio-8091-exec-19] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 xlm 100006 103 rule_default
24-08-12.15:30:41.714 [http-nio-8091-exec-19] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:xlm strategyId:100006 awardId:103
24-08-12.15:30:41.717 [http-nio-8091-exec-19] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:xlm strategyId:100006 awardId:103
24-08-12.15:30:41.723 [http-nio-8091-exec-19] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0001
24-08-12.15:30:41.724 [http-nio-8091-exec-19] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 xlm 100006 103 null
24-08-12.15:30:42.102 [http-nio-8091-exec-19] INFO  EventPublisher         - 发送MQ消息 topic:send_award message:{"data":{"awardId":103,"awardTitle":"支付优惠券","orderId":"195966577055","userId":"xlm"},"id":"73352867658","timestamp":1723447841755}
24-08-12.15:30:42.105 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] INFO  SendAwardCustomer      - 监听用户奖品发送消息 topic: send_award message: {"data":{"awardId":103,"awardTitle":"支付优惠券","orderId":"195966577055","userId":"xlm"},"id":"73352867658","timestamp":1723447841755}
24-08-12.15:30:42.133 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] ERROR AwardService           - 分发奖品，对应的服务不存在。awardKey:openai_use_count
24-08-12.15:30:42.197 [http-nio-8091-exec-16] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置开始 userId:xlm activityId：100301
24-08-12.15:30:42.197 [http-nio-8091-exec-9] INFO  RaffleActivityController - 查询用户积分值开始 userId:xlm
24-08-12.15:30:42.197 [http-nio-8091-exec-17] INFO  RaffleActivityController - 查询用户是否完成日历签到返利开始 userId:xlm
24-08-12.15:30:42.197 [http-nio-8091-exec-8] INFO  RaffleActivityController - 查询用户活动账户开始 userId:xlm activityId:100301
24-08-12.15:30:42.241 [http-nio-8091-exec-17] INFO  RaffleActivityController - 查询用户是否完成日历签到返利完成 userId:xlm orders.size:1
24-08-12.15:30:42.274 [http-nio-8091-exec-9] INFO  RaffleActivityController - 查询用户积分值完成 userId:xlm adjustAmount:99.70
24-08-12.15:30:42.298 [http-nio-8091-exec-16] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置完成 userId:xlm activityId：100301 response: {"code":"0000","data":[{"ruleWeightCount":70,"strategyAwards":[{"awardId":106,"awardTitle":"轻奢办公椅"},{"awardId":107,"awardTitle":"小霸王游戏机"}],"userActivityAccountTotalUseCount":2},{"ruleWeightCount":10,"strategyAwards":[{"awardId":102,"awardTitle":"OpenAI会员卡"},{"awardId":103,"awardTitle":"支付优惠券"}],"userActivityAccountTotalUseCount":2},{"ruleWeightCount":1000,"strategyAwards":[{"awardId":104,"awardTitle":"小米台灯"},{"awardId":105,"awardTitle":"小米su7周体验"}],"userActivityAccountTotalUseCount":2}],"info":"调用成功"}
24-08-12.15:30:42.335 [http-nio-8091-exec-8] INFO  RaffleActivityController - 查询用户活动账户完成 userId:xlm activityId:100301 dto:{"dayCount":500,"dayCountSurplus":498,"monthCount":500,"monthCountSurplus":498,"totalCount":500,"totalCountSurplus":498}
24-08-12.15:30:44.765 [http-nio-8091-exec-26] INFO  RaffleStrategyController - 查询抽奖奖品列表配开始 userId:xlm activityId：100301
24-08-12.15:30:44.999 [http-nio-8091-exec-26] INFO  RaffleStrategyController - 查询抽奖奖品列表配置完成 userId:xlm activityId：100301 response: {"code":"0000","data":[{"awardId":101,"awardTitle":"随机积分","isAwardUnlock":true,"sort":1,"waitUnLockCount":0},{"awardId":102,"awardTitle":"OpenAI会员卡","isAwardUnlock":true,"sort":2,"waitUnLockCount":0},{"awardId":103,"awardTitle":"支付优惠券","isAwardUnlock":true,"sort":3,"waitUnLockCount":0},{"awardId":104,"awardTitle":"小米台灯","isAwardUnlock":true,"sort":4,"waitUnLockCount":0},{"awardId":105,"awardRuleLockCount":3,"awardSubtitle":"抽奖3次后解锁","awardTitle":"小米su7周体验","isAwardUnlock":false,"sort":5,"waitUnLockCount":1},{"awardId":106,"awardRuleLockCount":2,"awardSubtitle":"抽奖2次后解锁","awardTitle":"轻奢办公椅","isAwardUnlock":true,"sort":6,"waitUnLockCount":0},{"awardId":107,"awardRuleLockCount":1,"awardSubtitle":"抽奖1次后解锁","awardTitle":"小霸王游戏机","isAwardUnlock":true,"sort":7,"waitUnLockCount":0},{"awardId":108,"awardTitle":"暴走玩偶","isAwardUnlock":true,"sort":8,"waitUnLockCount":0}],"info":"调用成功"}
24-08-12.15:30:45.003 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:30:45.008 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 strategyId:100006 awardId:103
24-08-12.15:30:45.098 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:30:50.003 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:30:50.008 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:30:55.002 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:30:55.005 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:31:00.003 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:31:00.007 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:31:05.005 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:31:05.008 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:31:10.005 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:31:10.009 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:31:14.647 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-08-12.15:31:14.648 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-08-12.15:31:14.699 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-08-12.15:31:14.700 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-08-12.15:31:14.892 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-08-12.15:31:14.969 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-08-12.15:31:15.005 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:31:15.007 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-12.15:31:15.040 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-08-12.15:31:15.255 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-08-12.15:31:16.279 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
24-08-12.15:31:16.279 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
24-08-12.15:31:16.279 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
24-08-12.15:31:16.279 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
