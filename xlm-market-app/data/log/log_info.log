24-07-23.15:30:48.107 [main            ] INFO  RaffleStrategyTest_10  - Starting RaffleStrategyTest_10 using Java 1.8.0_412 on lumine.local with PID 10400 (started by lumine in /Users/lumine/code/java/xlm-market/xlm-market-app)
24-07-23.15:30:48.108 [main            ] INFO  RaffleStrategyTest_10  - The following 1 profile is active: "dev"
24-07-23.15:30:48.663 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-07-23.15:30:48.665 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-07-23.15:30:48.689 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
24-07-23.15:30:49.252 [main            ] INFO  Version                - Redisson 3.23.4
24-07-23.15:30:49.280 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-07-23.15:30:49.408 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-07-23.15:30:49.416 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-07-23.15:30:50.591 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-07-23.15:30:50.639 [main            ] INFO  RaffleStrategyTest_10  - Started RaffleStrategyTest_10 in 2.775 seconds (JVM running for 3.37)
24-07-23.15:30:50.917 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-07-23.15:30:51.193 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-07-23.15:30:51.289 [main            ] INFO  RaffleStrategyTest_10  - 测试结果：true
24-07-23.15:30:51.295 [main            ] INFO  DefaultLogicChain      - 【默认抽奖规则】userId:xlm,strategyId:100006,awardId:102
24-07-23.15:30:51.295 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 xlm 100006 102 rule_default
24-07-23.15:30:51.316 [main            ] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:xlm strategyId:100006 awardId:102
24-07-23.15:30:51.316 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_lock code:0000
24-07-23.15:30:51.317 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:xlm strategyId:100006 awardId:102
24-07-23.15:30:51.319 [main            ] WARN  RuleStockLogicTreeNode - 规则过滤-库存扣减-告警，库存不足。userId:xlm strategyId:100006 awardId:102
24-07-23.15:30:51.319 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_stock code:0000
24-07-23.15:30:51.338 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-07-23.15:30:51.359 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
24-07-23.15:38:27.679 [main            ] INFO  RaffleStrategyTest_10  - Starting RaffleStrategyTest_10 using Java 1.8.0_412 on lumine.local with PID 10991 (started by lumine in /Users/lumine/code/java/xlm-market/xlm-market-app)
24-07-23.15:38:27.679 [main            ] INFO  RaffleStrategyTest_10  - The following 1 profile is active: "dev"
24-07-23.15:38:28.249 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-07-23.15:38:28.251 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-07-23.15:38:28.287 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 15 ms. Found 0 Redis repository interfaces.
24-07-23.15:38:28.937 [main            ] INFO  Version                - Redisson 3.23.4
24-07-23.15:38:28.968 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-07-23.15:38:29.104 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-07-23.15:38:29.113 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-07-23.15:38:30.714 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-07-23.15:38:30.765 [main            ] INFO  RaffleStrategyTest_10  - Started RaffleStrategyTest_10 in 3.411 seconds (JVM running for 4.571)
24-07-23.15:38:31.152 [main            ] INFO  RaffleStrategyTest_10  - 测试结果：true
24-07-23.15:38:37.836 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.15:38:41.434 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.15:38:46.973 [main            ] INFO  DefaultLogicChain      - 【默认抽奖规则】userId:xiaofuge,strategyId:100006,awardId:102
24-07-23.15:38:47.324 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 xiaofuge 100006 102 rule_default
24-07-23.15:38:48.462 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-07-23.15:38:49.982 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-07-23.15:38:50.005 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.15:38:50.171 [main            ] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:xiaofuge strategyId:100006 awardId:102
24-07-23.15:38:50.175 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_lock code:0000
24-07-23.15:38:50.179 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:xiaofuge strategyId:100006 awardId:102
24-07-23.15:38:50.181 [main            ] WARN  RuleStockLogicTreeNode - 规则过滤-库存扣减-告警，库存不足。userId:xiaofuge strategyId:100006 awardId:102
24-07-23.15:38:50.182 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_stock code:0000
24-07-23.15:38:52.982 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-07-23.15:38:52.998 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
24-07-23.15:39:21.085 [main            ] INFO  RaffleStrategyTest_10  - Starting RaffleStrategyTest_10 using Java 1.8.0_412 on lumine.local with PID 11077 (started by lumine in /Users/lumine/code/java/xlm-market/xlm-market-app)
24-07-23.15:39:21.086 [main            ] INFO  RaffleStrategyTest_10  - The following 1 profile is active: "dev"
24-07-23.15:39:21.597 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-07-23.15:39:21.604 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-07-23.15:39:21.629 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 15 ms. Found 0 Redis repository interfaces.
24-07-23.15:39:22.193 [main            ] INFO  Version                - Redisson 3.23.4
24-07-23.15:39:22.222 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-07-23.15:39:22.363 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-07-23.15:39:22.372 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-07-23.15:39:23.733 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-07-23.15:39:23.780 [main            ] INFO  RaffleStrategyTest_10  - Started RaffleStrategyTest_10 in 2.959 seconds (JVM running for 3.657)
24-07-23.15:39:24.125 [main            ] INFO  RaffleStrategyTest_10  - 测试结果：true
24-07-23.15:39:27.009 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.15:39:28.235 [main            ] INFO  DefaultLogicChain      - 【默认抽奖规则】userId:xiaofuge,strategyId:100006,awardId:102
24-07-23.15:39:28.238 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 xiaofuge 100006 102 rule_default
24-07-23.15:39:40.795 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.15:39:40.904 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-07-23.15:39:42.378 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-07-23.15:40:07.415 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.15:40:18.198 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.15:40:34.214 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.15:40:59.943 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.15:40:59.943 [main            ] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:xiaofuge strategyId:100006 awardId:102
24-07-23.15:41:07.465 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.15:41:13.996 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_lock code:0000
24-07-23.15:41:17.761 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.15:41:21.690 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:xiaofuge strategyId:100006 awardId:102
24-07-23.15:41:21.696 [main            ] WARN  RuleStockLogicTreeNode - 规则过滤-库存扣减-告警，库存不足。userId:xiaofuge strategyId:100006 awardId:102
24-07-23.15:41:27.717 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.15:41:29.379 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_stock code:0000
24-07-23.15:41:34.858 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-07-23.15:41:34.868 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
24-07-23.15:41:44.186 [main            ] INFO  RaffleStrategyTest_10  - Starting RaffleStrategyTest_10 using Java 1.8.0_412 on lumine.local with PID 11281 (started by lumine in /Users/lumine/code/java/xlm-market/xlm-market-app)
24-07-23.15:41:44.187 [main            ] INFO  RaffleStrategyTest_10  - The following 1 profile is active: "dev"
24-07-23.15:41:44.726 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-07-23.15:41:44.728 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-07-23.15:41:44.753 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
24-07-23.15:41:45.322 [main            ] INFO  Version                - Redisson 3.23.4
24-07-23.15:41:45.357 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-07-23.15:41:45.495 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-07-23.15:41:45.505 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-07-23.15:41:46.898 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-07-23.15:41:46.952 [main            ] INFO  RaffleStrategyTest_10  - Started RaffleStrategyTest_10 in 3.032 seconds (JVM running for 3.723)
24-07-23.15:41:47.283 [main            ] INFO  RaffleStrategyTest_10  - 测试结果：true
24-07-23.15:41:50.026 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.15:41:50.769 [main            ] INFO  DefaultLogicChain      - 【默认抽奖规则】userId:xiaofuge,strategyId:100006,awardId:102
24-07-23.15:41:50.772 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 xiaofuge 100006 102 rule_default
24-07-23.15:41:51.471 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-07-23.15:41:51.711 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-07-23.15:41:57.102 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.15:41:57.102 [main            ] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:xiaofuge strategyId:100006 awardId:102
24-07-23.15:42:00.174 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.15:42:00.613 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_lock code:0000
24-07-23.15:42:05.111 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.15:42:17.421 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:xiaofuge strategyId:100006 awardId:102
24-07-23.15:43:14.330 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.15:43:14.331 [HikariPool-1 housekeeper] WARN  HikariPool             - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m17s228ms).
24-07-23.15:43:36.328 [main            ] WARN  RuleStockLogicTreeNode - 规则过滤-库存扣减-告警，库存不足。userId:xiaofuge strategyId:100006 awardId:102
24-07-23.15:43:46.068 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.15:43:47.764 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_stock code:0000
24-07-23.15:44:13.882 [HikariPool-1 housekeeper] WARN  HikariPool             - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=59s551ms).
24-07-23.15:44:24.926 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.15:45:10.882 [HikariPool-1 housekeeper] WARN  HikariPool             - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=57s1ms).
24-07-23.15:45:10.921 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-07-23.15:45:12.924 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
24-07-23.15:49:45.072 [main            ] INFO  RaffleStrategyTest_6_9 - Starting RaffleStrategyTest_6_9 using Java 1.8.0_412 on lumine.local with PID 11914 (started by lumine in /Users/lumine/code/java/xlm-market/xlm-market-app)
24-07-23.15:49:45.072 [main            ] INFO  RaffleStrategyTest_6_9 - The following 1 profile is active: "dev"
24-07-23.15:49:45.564 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-07-23.15:49:45.566 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-07-23.15:49:45.583 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
24-07-23.15:49:46.150 [main            ] INFO  Version                - Redisson 3.23.4
24-07-23.15:49:46.179 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-07-23.15:49:46.299 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-07-23.15:49:46.307 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-07-23.15:49:47.491 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-07-23.15:49:47.536 [main            ] INFO  RaffleStrategyTest_6_9 - Started RaffleStrategyTest_6_9 in 2.732 seconds (JVM running for 3.275)
24-07-23.15:49:47.796 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-07-23.15:49:48.029 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-07-23.15:49:48.273 [main            ] INFO  RaffleStrategyTest_6_9 - 测试结果：true
24-07-23.15:49:48.283 [main            ] INFO  RaffleStrategyTest_6_9 - 测试结果：true
24-07-23.15:49:48.287 [main            ] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId: user003 strategyId: 100001 ruleModel: rule_blacklist
24-07-23.15:49:48.304 [main            ] INFO  BackListLogicChain     - 抽奖责任链-黑名单接管 userId: user003 strategyId: 100001 ruleModel: rule_blacklist awardId: 100
24-07-23.15:49:48.305 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 user003 100001 100 rule_blacklist
24-07-23.15:49:48.397 [main            ] INFO  RaffleStrategyTest_6_9 - 请求参数：{"strategyId":100001,"userId":"user003"}
24-07-23.15:49:48.399 [main            ] INFO  RaffleStrategyTest_6_9 - 测试结果：{"awardId":100}
24-07-23.15:49:48.411 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-07-23.15:49:48.416 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
24-07-23.15:49:53.586 [main            ] INFO  RaffleStrategyTest_6_9 - Starting RaffleStrategyTest_6_9 using Java 1.8.0_412 on lumine.local with PID 11937 (started by lumine in /Users/lumine/code/java/xlm-market/xlm-market-app)
24-07-23.15:49:53.586 [main            ] INFO  RaffleStrategyTest_6_9 - The following 1 profile is active: "dev"
24-07-23.15:49:54.079 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-07-23.15:49:54.082 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-07-23.15:49:54.100 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
24-07-23.15:49:54.644 [main            ] INFO  Version                - Redisson 3.23.4
24-07-23.15:49:54.673 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-07-23.15:49:54.790 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-07-23.15:49:54.798 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-07-23.15:49:56.038 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-07-23.15:49:56.094 [main            ] INFO  RaffleStrategyTest_6_9 - Started RaffleStrategyTest_6_9 in 2.769 seconds (JVM running for 3.281)
24-07-23.15:49:56.519 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-07-23.15:49:56.741 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-07-23.15:49:56.788 [main            ] INFO  RaffleStrategyTest_6_9 - 测试结果：true
24-07-23.15:49:56.793 [main            ] INFO  RaffleStrategyTest_6_9 - 测试结果：true
24-07-23.15:49:56.798 [main            ] INFO  DefaultLogicChain      - 【默认抽奖规则】userId:xlm,strategyId:100006,awardId:102
24-07-23.15:49:56.798 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 xlm 100006 102 rule_default
24-07-23.15:49:56.806 [main            ] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:xlm strategyId:100006 awardId:102
24-07-23.15:49:56.807 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_lock code:0000
24-07-23.15:49:56.808 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:xlm strategyId:100006 awardId:102
24-07-23.15:49:56.810 [main            ] WARN  RuleStockLogicTreeNode - 规则过滤-库存扣减-告警，库存不足。userId:xlm strategyId:100006 awardId:102
24-07-23.15:49:56.810 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_stock code:0000
24-07-23.15:49:56.823 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-07-23.15:49:56.825 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
24-07-23.15:54:44.247 [main            ] INFO  RaffleStrategyTest_10  - Starting RaffleStrategyTest_10 using Java 1.8.0_412 on lumine.local with PID 12308 (started by lumine in /Users/lumine/code/java/xlm-market/xlm-market-app)
24-07-23.15:54:44.248 [main            ] INFO  RaffleStrategyTest_10  - The following 1 profile is active: "dev"
24-07-23.15:54:44.802 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-07-23.15:54:44.804 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-07-23.15:54:44.828 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
24-07-23.15:54:45.395 [main            ] INFO  Version                - Redisson 3.23.4
24-07-23.15:54:45.429 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-07-23.15:54:45.563 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-07-23.15:54:45.575 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-07-23.15:54:46.979 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-07-23.15:54:47.023 [main            ] INFO  RaffleStrategyTest_10  - Started RaffleStrategyTest_10 in 3.051 seconds (JVM running for 3.808)
24-07-23.15:54:47.374 [main            ] INFO  RaffleStrategyTest_10  - 测试结果：true
24-07-23.15:54:52.293 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.15:54:52.301 [main            ] INFO  DefaultLogicChain      - 【默认抽奖规则】userId:xiaofuge,strategyId:100006,awardId:102
24-07-23.15:54:52.304 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 xiaofuge 100006 102 rule_default
24-07-23.15:54:54.364 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-07-23.15:54:54.591 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-07-23.15:54:55.974 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.15:54:55.974 [main            ] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:xiaofuge strategyId:100006 awardId:102
24-07-23.15:54:55.976 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_lock code:0000
24-07-23.15:55:36.328 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.15:56:00.684 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.15:56:09.127 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:xiaofuge strategyId:100006 awardId:102
24-07-23.15:57:01.662 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.15:57:02.047 [HikariPool-1 housekeeper] WARN  HikariPool             - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=55s51ms).
24-07-23.15:57:02.048 [main            ] WARN  RuleStockLogicTreeNode - 规则过滤-库存扣减-告警，库存不足。userId:xiaofuge strategyId:100006 awardId:102
24-07-23.15:57:06.002 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.15:57:07.859 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_stock code:0000
24-07-23.15:58:10.561 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.15:58:10.561 [HikariPool-1 housekeeper] WARN  HikariPool             - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m8s899ms).
24-07-23.15:59:17.730 [HikariPool-1 housekeeper] WARN  HikariPool             - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m7s169ms).
24-07-23.15:59:22.793 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.16:00:54.843 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.16:00:54.844 [HikariPool-1 housekeeper] WARN  HikariPool             - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m37s114ms).
24-07-23.16:06:59.845 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-07-23.16:07:02.082 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
24-07-23.16:07:04.944 [main            ] INFO  RaffleStrategyTest_10  - Starting RaffleStrategyTest_10 using Java 1.8.0_412 on lumine.local with PID 13399 (started by lumine in /Users/lumine/code/java/xlm-market/xlm-market-app)
24-07-23.16:07:04.945 [main            ] INFO  RaffleStrategyTest_10  - The following 1 profile is active: "dev"
24-07-23.16:07:05.510 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-07-23.16:07:05.513 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-07-23.16:07:05.533 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
24-07-23.16:07:06.143 [main            ] INFO  Version                - Redisson 3.23.4
24-07-23.16:07:06.178 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-07-23.16:07:06.313 [redisson-netty-2-5] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-07-23.16:07:06.324 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-07-23.16:07:07.707 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-07-23.16:07:07.756 [main            ] INFO  RaffleStrategyTest_10  - Started RaffleStrategyTest_10 in 3.087 seconds (JVM running for 3.799)
24-07-23.16:07:14.543 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.16:07:14.677 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-07-23.16:07:15.005 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.16:07:16.154 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-07-23.16:07:16.726 [main            ] INFO  RaffleStrategyTest_10  - 测试结果：true
24-07-23.16:07:21.326 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.16:07:43.007 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.16:07:44.318 [main            ] INFO  DefaultLogicChain      - 【默认抽奖规则】userId:xiaofuge,strategyId:100006,awardId:102
24-07-23.16:07:44.794 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 xiaofuge 100006 102 rule_default
24-07-23.16:07:45.259 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.16:07:57.108 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.16:08:02.025 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.16:08:09.541 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.16:08:19.506 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.16:08:19.507 [main            ] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:xiaofuge strategyId:100006 awardId:102
24-07-23.16:08:25.377 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.16:08:27.343 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_lock code:0000
24-07-23.16:08:31.066 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.16:08:36.090 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:xiaofuge strategyId:100006 awardId:102
24-07-23.16:08:57.475 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.16:09:50.430 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.16:09:50.430 [HikariPool-1 housekeeper] WARN  HikariPool             - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=52s955ms).
24-07-23.16:09:50.439 [main            ] WARN  RuleStockLogicTreeNode - 规则过滤-库存扣减-告警，库存不足。userId:xiaofuge strategyId:100006 awardId:102
24-07-23.16:09:50.439 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_stock code:0000
24-07-23.16:09:50.472 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-07-23.16:09:50.485 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
24-07-23.16:09:52.385 [main            ] INFO  RaffleStrategyTest_10  - Starting RaffleStrategyTest_10 using Java 1.8.0_412 on lumine.local with PID 13637 (started by lumine in /Users/lumine/code/java/xlm-market/xlm-market-app)
24-07-23.16:09:52.385 [main            ] INFO  RaffleStrategyTest_10  - The following 1 profile is active: "dev"
24-07-23.16:09:52.887 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-07-23.16:09:52.894 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-07-23.16:09:52.911 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 8 ms. Found 0 Redis repository interfaces.
24-07-23.16:09:53.470 [main            ] INFO  Version                - Redisson 3.23.4
24-07-23.16:09:53.499 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-07-23.16:09:53.624 [redisson-netty-2-5] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-07-23.16:09:53.632 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-07-23.16:09:54.993 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-07-23.16:09:55.043 [main            ] INFO  RaffleStrategyTest_10  - Started RaffleStrategyTest_10 in 2.915 seconds (JVM running for 3.653)
24-07-23.16:10:00.000 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.16:10:00.130 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-07-23.16:10:01.629 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-07-23.16:10:15.042 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.16:11:25.665 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.16:11:25.666 [HikariPool-1 housekeeper] WARN  HikariPool             - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=50s488ms).
24-07-23.16:11:25.702 [main            ] INFO  RaffleStrategyTest_10  - 测试结果：true
24-07-23.16:11:25.712 [main            ] INFO  DefaultLogicChain      - 【默认抽奖规则】userId:xiaofuge,strategyId:100006,awardId:102
24-07-23.16:11:25.714 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 xiaofuge 100006 102 rule_default
24-07-23.16:11:25.726 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-07-23.16:11:25.733 [main            ] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:xiaofuge strategyId:100006 awardId:102
24-07-23.16:11:25.734 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_lock code:0000
24-07-23.16:11:25.735 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:xiaofuge strategyId:100006 awardId:102
24-07-23.16:11:25.735 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
24-07-23.16:11:25.737 [main            ] WARN  RuleStockLogicTreeNode - 规则过滤-库存扣减-告警，库存不足。userId:xiaofuge strategyId:100006 awardId:102
24-07-23.16:11:25.737 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_stock code:0000
24-07-23.16:11:28.899 [main            ] INFO  RaffleStrategyTest_10  - Starting RaffleStrategyTest_10 using Java 1.8.0_412 on lumine.local with PID 13770 (started by lumine in /Users/lumine/code/java/xlm-market/xlm-market-app)
24-07-23.16:11:28.900 [main            ] INFO  RaffleStrategyTest_10  - The following 1 profile is active: "dev"
24-07-23.16:11:29.428 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-07-23.16:11:29.434 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-07-23.16:11:29.451 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 8 ms. Found 0 Redis repository interfaces.
24-07-23.16:11:30.025 [main            ] INFO  Version                - Redisson 3.23.4
24-07-23.16:11:30.054 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-07-23.16:11:30.180 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-07-23.16:11:30.188 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-07-23.16:11:31.533 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-07-23.16:11:31.584 [main            ] INFO  RaffleStrategyTest_10  - Started RaffleStrategyTest_10 in 2.944 seconds (JVM running for 3.662)
24-07-23.16:11:38.292 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.16:12:07.682 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.16:12:07.689 [redisson-netty-2-12] ERROR CommandDecoder         - Unable to decode data. channel: [id: 0xa0aa27dd, L:/127.0.0.1:53132 - R:127.0.0.1/127.0.0.1:16379], reply: ReplayingDecoderByteBuf(ridx=7, widx=7), command: (GET), promise: java.util.concurrent.CompletableFuture@3995565[Not completed, 1 dependents], params: [strategy_award_count_key_100006_102]
com.esotericsoftware.kryo.KryoException: Encountered unregistered class ID: 46
	at com.esotericsoftware.kryo.util.DefaultClassResolver.readClass(DefaultClassResolver.java:159)
	at com.esotericsoftware.kryo.Kryo.readClass(Kryo.java:758)
	at com.esotericsoftware.kryo.Kryo.readClassAndObject(Kryo.java:869)
	at org.redisson.codec.Kryo5Codec$4.decode(Kryo5Codec.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:394)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:205)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
24-07-23.16:12:07.710 [redisson-netty-2-12] ERROR ErrorsLoggingHandler   - Exception occured. Channel: [id: 0xa0aa27dd, L:/127.0.0.1:53132 - R:127.0.0.1/127.0.0.1:16379]
io.netty.handler.codec.DecoderException: com.esotericsoftware.kryo.KryoException: Encountered unregistered class ID: 46
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:421)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
Caused by: com.esotericsoftware.kryo.KryoException: Encountered unregistered class ID: 46
	at com.esotericsoftware.kryo.util.DefaultClassResolver.readClass(DefaultClassResolver.java:159)
	at com.esotericsoftware.kryo.Kryo.readClass(Kryo.java:758)
	at com.esotericsoftware.kryo.Kryo.readClassAndObject(Kryo.java:869)
	at org.redisson.codec.Kryo5Codec$4.decode(Kryo5Codec.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:394)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:205)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	... 17 common frames omitted
24-07-23.16:14:03.545 [main            ] INFO  RaffleStrategyTest_10  - Starting RaffleStrategyTest_10 using Java 1.8.0_412 on lumine.local with PID 13980 (started by lumine in /Users/lumine/code/java/xlm-market/xlm-market-app)
24-07-23.16:14:03.545 [main            ] INFO  RaffleStrategyTest_10  - The following 1 profile is active: "dev"
24-07-23.16:14:04.208 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-07-23.16:14:04.211 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-07-23.16:14:04.236 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
24-07-23.16:14:04.927 [main            ] INFO  Version                - Redisson 3.23.4
24-07-23.16:14:04.965 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-07-23.16:14:05.124 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-07-23.16:14:05.135 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-07-23.16:14:07.079 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-07-23.16:14:07.141 [main            ] INFO  RaffleStrategyTest_10  - Started RaffleStrategyTest_10 in 3.895 seconds (JVM running for 4.722)
24-07-23.16:14:11.173 [main            ] INFO  RaffleStrategyTest_10  - Starting RaffleStrategyTest_10 using Java 1.8.0_412 on lumine.local with PID 14002 (started by lumine in /Users/lumine/code/java/xlm-market/xlm-market-app)
24-07-23.16:14:11.174 [main            ] INFO  RaffleStrategyTest_10  - The following 1 profile is active: "dev"
24-07-23.16:14:11.784 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-07-23.16:14:11.793 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-07-23.16:14:11.826 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 15 ms. Found 0 Redis repository interfaces.
24-07-23.16:14:12.455 [main            ] INFO  Version                - Redisson 3.23.4
24-07-23.16:14:12.491 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-07-23.16:14:12.644 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-07-23.16:14:12.653 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-07-23.16:14:14.403 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-07-23.16:14:14.469 [main            ] INFO  RaffleStrategyTest_10  - Started RaffleStrategyTest_10 in 3.603 seconds (JVM running for 4.464)
24-07-23.16:14:17.855 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.16:14:17.942 [main            ] INFO  RaffleStrategyTest_10  - 测试结果：true
24-07-23.16:14:18.678 [main            ] INFO  DefaultLogicChain      - 【默认抽奖规则】userId:xiaofuge,strategyId:100006,awardId:102
24-07-23.16:14:18.679 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 xiaofuge 100006 102 rule_default
24-07-23.16:14:19.273 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-07-23.16:14:19.536 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-07-23.16:14:19.802 [main            ] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:xiaofuge strategyId:100006 awardId:102
24-07-23.16:14:19.803 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_lock code:0000
24-07-23.16:14:21.471 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.16:14:21.932 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:xiaofuge strategyId:100006 awardId:102
24-07-23.16:14:21.939 [main            ] WARN  RuleStockLogicTreeNode - 规则过滤-库存扣减-告警，库存不足。userId:xiaofuge strategyId:100006 awardId:102
24-07-23.16:14:21.940 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_stock code:0000
24-07-23.16:14:25.591 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.16:14:25.619 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-07-23.16:14:25.633 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
24-07-23.16:15:00.178 [main            ] INFO  RaffleStrategyTest_10  - Starting RaffleStrategyTest_10 using Java 1.8.0_412 on lumine.local with PID 14061 (started by lumine in /Users/lumine/code/java/xlm-market/xlm-market-app)
24-07-23.16:15:00.178 [main            ] INFO  RaffleStrategyTest_10  - The following 1 profile is active: "dev"
24-07-23.16:15:00.988 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-07-23.16:15:01.000 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-07-23.16:15:01.028 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 14 ms. Found 0 Redis repository interfaces.
24-07-23.16:15:01.763 [main            ] INFO  Version                - Redisson 3.23.4
24-07-23.16:15:01.805 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-07-23.16:15:01.982 [redisson-netty-2-5] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-07-23.16:15:01.998 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-07-23.16:15:04.101 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-07-23.16:15:04.166 [main            ] INFO  RaffleStrategyTest_10  - Started RaffleStrategyTest_10 in 4.323 seconds (JVM running for 5.143)
24-07-23.16:15:19.988 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.16:15:20.029 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-07-23.16:15:20.298 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-07-23.16:15:20.414 [main            ] INFO  RaffleStrategyTest_10  - 测试结果：true
24-07-23.16:16:31.708 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.16:16:31.709 [HikariPool-1 housekeeper] WARN  HikariPool             - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m11s305ms).
24-07-23.16:16:31.729 [main            ] INFO  DefaultLogicChain      - 【默认抽奖规则】userId:xiaofuge,strategyId:100006,awardId:102
24-07-23.16:16:31.737 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 xiaofuge 100006 102 rule_default
24-07-23.16:16:36.925 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.16:17:00.088 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.16:17:02.887 [main            ] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:xiaofuge strategyId:100006 awardId:102
24-07-23.16:17:02.893 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_lock code:0000
24-07-23.16:17:05.524 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.16:17:10.472 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.16:17:17.674 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:xiaofuge strategyId:100006 awardId:102
24-07-23.16:17:19.737 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:xiaofuge strategyId:100006 awardId:102
24-07-23.16:17:20.771 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.16:17:25.639 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.16:17:31.375 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.16:17:50.204 [HikariPool-1 housekeeper] WARN  HikariPool             - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=47s965ms).
24-07-23.16:17:51.535 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_stock code:0001
24-07-23.16:17:51.536 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 strategyId:100006 awardId:102
24-07-23.16:18:35.655 [HikariPool-1 housekeeper] WARN  HikariPool             - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=45s452ms).
24-07-23.16:18:37.803 [main            ] INFO  RuleLuckAwardLogicTreeNode - 规则过滤-兜底奖品 userId:xiaofuge strategyId:100006 awardId:102 ruleValue:1,100
24-07-23.16:18:42.561 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-07-23.16:18:42.577 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
24-07-23.16:22:43.667 [main            ] INFO  RaffleStrategyTest_10  - Starting RaffleStrategyTest_10 using Java 1.8.0_412 on lumine.local with PID 14730 (started by lumine in /Users/lumine/code/java/xlm-market/xlm-market-app)
24-07-23.16:22:43.668 [main            ] INFO  RaffleStrategyTest_10  - The following 1 profile is active: "dev"
24-07-23.16:22:44.277 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-07-23.16:22:44.279 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-07-23.16:22:44.307 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 13 ms. Found 0 Redis repository interfaces.
24-07-23.16:22:44.982 [main            ] INFO  Version                - Redisson 3.23.4
24-07-23.16:22:45.021 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-07-23.16:22:45.186 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-07-23.16:22:45.200 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-07-23.16:22:46.811 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-07-23.16:22:46.860 [main            ] INFO  RaffleStrategyTest_10  - Started RaffleStrategyTest_10 in 3.517 seconds (JVM running for 4.573)
24-07-23.16:22:50.431 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.16:23:08.376 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.16:23:08.415 [main            ] INFO  RaffleStrategyTest_10  - 测试结果：true
24-07-23.16:23:19.049 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.16:23:19.061 [main            ] INFO  DefaultLogicChain      - 【默认抽奖规则】userId:xiaofuge,strategyId:100006,awardId:102
24-07-23.16:23:19.065 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 xiaofuge 100006 102 rule_default
24-07-23.16:23:27.908 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.16:23:43.874 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-07-23.16:23:45.002 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.16:23:45.354 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-07-23.16:23:50.610 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.16:23:50.610 [main            ] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:xiaofuge strategyId:100006 awardId:102
24-07-23.16:23:50.622 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_lock code:0000
24-07-23.16:23:55.115 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.16:23:57.765 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:xiaofuge strategyId:100006 awardId:102
24-07-23.16:23:59.721 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:xiaofuge strategyId:100006 awardId:102
24-07-23.16:24:00.268 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.16:24:05.149 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.16:24:09.594 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_stock code:0001
24-07-23.16:24:10.951 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.16:24:15.009 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 strategyId:100006 awardId:102
24-07-23.16:24:15.008 [main            ] INFO  RuleLuckAwardLogicTreeNode - 规则过滤-兜底奖品 userId:xiaofuge strategyId:100006 awardId:102 ruleValue:1,100
24-07-23.16:24:17.706 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-07-23.16:24:17.715 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
24-07-23.16:24:44.848 [main            ] INFO  RaffleStrategyTest_10  - Starting RaffleStrategyTest_10 using Java 1.8.0_412 on lumine.local with PID 14901 (started by lumine in /Users/lumine/code/java/xlm-market/xlm-market-app)
24-07-23.16:24:44.849 [main            ] INFO  RaffleStrategyTest_10  - The following 1 profile is active: "dev"
24-07-23.16:24:45.464 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-07-23.16:24:45.466 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-07-23.16:24:45.487 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
24-07-23.16:24:46.093 [main            ] INFO  Version                - Redisson 3.23.4
24-07-23.16:24:46.124 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-07-23.16:24:46.252 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-07-23.16:24:46.264 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-07-23.16:24:47.803 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-07-23.16:24:47.856 [main            ] INFO  RaffleStrategyTest_10  - Started RaffleStrategyTest_10 in 3.304 seconds (JVM running for 4.092)
24-07-23.16:24:48.170 [main            ] INFO  RaffleStrategyTest_10  - 测试结果：true
24-07-23.16:24:50.826 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.16:24:50.836 [main            ] INFO  DefaultLogicChain      - 【默认抽奖规则】userId:xiaofuge,strategyId:100006,awardId:102
24-07-23.16:24:50.839 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 xiaofuge 100006 102 rule_default
24-07-23.16:24:53.690 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-07-23.16:24:53.917 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-07-23.16:24:53.950 [main            ] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:xiaofuge strategyId:100006 awardId:102
24-07-23.16:24:53.951 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_lock code:0000
24-07-23.16:24:55.199 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.16:24:57.199 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:xiaofuge strategyId:100006 awardId:102
24-07-23.16:24:57.206 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:xiaofuge strategyId:100006 awardId:102
24-07-23.16:24:57.228 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_stock code:0001
24-07-23.16:24:57.847 [main            ] INFO  RuleLuckAwardLogicTreeNode - 规则过滤-兜底奖品 userId:xiaofuge strategyId:100006 awardId:102 ruleValue:1,100
24-07-23.16:25:49.021 [HikariPool-1 housekeeper] WARN  HikariPool             - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=53s822ms).
24-07-23.16:25:49.022 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.16:25:58.334 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-07-23.16:25:58.362 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
24-07-23.16:26:01.575 [main            ] INFO  RaffleStrategyTest_10  - Starting RaffleStrategyTest_10 using Java 1.8.0_412 on lumine.local with PID 15014 (started by lumine in /Users/lumine/code/java/xlm-market/xlm-market-app)
24-07-23.16:26:01.576 [main            ] INFO  RaffleStrategyTest_10  - The following 1 profile is active: "dev"
24-07-23.16:26:02.100 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-07-23.16:26:02.102 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-07-23.16:26:02.121 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
24-07-23.16:26:02.724 [main            ] INFO  Version                - Redisson 3.23.4
24-07-23.16:26:02.754 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-07-23.16:26:02.878 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-07-23.16:26:02.889 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-07-23.16:26:04.268 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-07-23.16:26:04.319 [main            ] INFO  RaffleStrategyTest_10  - Started RaffleStrategyTest_10 in 3.011 seconds (JVM running for 3.764)
24-07-23.16:26:04.677 [main            ] INFO  RaffleStrategyTest_10  - 测试结果：true
24-07-23.16:26:07.091 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.16:26:07.100 [main            ] INFO  DefaultLogicChain      - 【默认抽奖规则】userId:xiaofuge,strategyId:100006,awardId:102
24-07-23.16:26:07.100 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 strategyId:100006 awardId:102
24-07-23.16:26:07.103 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 xiaofuge 100006 102 rule_default
24-07-23.16:26:07.899 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-07-23.16:26:08.124 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-07-23.16:26:08.162 [main            ] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:xiaofuge strategyId:100006 awardId:102
24-07-23.16:26:08.162 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_lock code:0000
24-07-23.16:26:09.346 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:xiaofuge strategyId:100006 awardId:102
24-07-23.16:26:09.354 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:xiaofuge strategyId:100006 awardId:102
24-07-23.16:26:09.385 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_stock code:0001
24-07-23.16:26:09.998 [main            ] INFO  RuleLuckAwardLogicTreeNode - 规则过滤-兜底奖品 userId:xiaofuge strategyId:100006 awardId:102 ruleValue:1,100
24-07-23.16:26:12.341 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.16:26:17.873 [main            ] INFO  RuleLuckAwardLogicTreeNode - 规则过滤-兜底奖品 userId:xiaofuge strategyId:100006 awardId:1 awardRuleValue:100
24-07-23.16:26:20.353 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.16:26:25.675 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_luck_award code:0001
24-07-23.16:26:25.676 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 strategyId:100006 awardId:102
24-07-23.16:27:05.550 [HikariPool-1 housekeeper] WARN  HikariPool             - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=56s296ms).
24-07-23.16:27:08.482 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 xiaofuge 100006 1 100
24-07-23.16:27:08.644 [main            ] INFO  RaffleStrategyTest_10  - 请求参数：{"strategyId":100006,"userId":"xiaofuge"}
24-07-23.16:27:08.646 [main            ] INFO  RaffleStrategyTest_10  - 测试结果：{"awardConfig":"100","awardId":1}
24-07-23.16:27:13.525 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.16:27:13.536 [main            ] INFO  DefaultLogicChain      - 【默认抽奖规则】userId:xiaofuge,strategyId:100006,awardId:102
24-07-23.16:27:13.537 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 xiaofuge 100006 102 rule_default
24-07-23.16:27:17.202 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.16:27:17.857 [main            ] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:xiaofuge strategyId:100006 awardId:102
24-07-23.16:27:17.857 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_lock code:0000
24-07-23.16:27:19.331 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:xiaofuge strategyId:100006 awardId:102
24-07-23.16:27:19.336 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:xiaofuge strategyId:100006 awardId:102
24-07-23.16:27:19.340 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_stock code:0001
24-07-23.16:27:23.037 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.16:27:23.037 [main            ] INFO  RuleLuckAwardLogicTreeNode - 规则过滤-兜底奖品 userId:xiaofuge strategyId:100006 awardId:102 ruleValue:1,100
24-07-23.16:27:23.649 [main            ] INFO  RuleLuckAwardLogicTreeNode - 规则过滤-兜底奖品 userId:xiaofuge strategyId:100006 awardId:1 awardRuleValue:100
24-07-23.16:27:23.649 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_luck_award code:0001
24-07-23.16:27:24.367 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 xiaofuge 100006 1 100
24-07-23.16:27:27.333 [main            ] INFO  RaffleStrategyTest_10  - 请求参数：{"strategyId":100006,"userId":"xiaofuge"}
24-07-23.16:27:27.957 [main            ] INFO  RaffleStrategyTest_10  - 测试结果：{"awardConfig":"100","awardId":1}
24-07-23.16:27:33.460 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.16:27:33.465 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 strategyId:100006 awardId:102
24-07-23.16:27:33.468 [main            ] INFO  DefaultLogicChain      - 【默认抽奖规则】userId:xiaofuge,strategyId:100006,awardId:102
24-07-23.16:27:33.468 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 xiaofuge 100006 102 rule_default
24-07-23.16:27:33.922 [main            ] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:xiaofuge strategyId:100006 awardId:102
24-07-23.16:27:33.922 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_lock code:0000
24-07-23.16:27:35.839 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:xiaofuge strategyId:100006 awardId:102
24-07-23.16:27:35.839 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.16:27:35.845 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:xiaofuge strategyId:100006 awardId:102
24-07-23.16:27:35.848 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_stock code:0001
24-07-23.16:27:36.125 [main            ] INFO  RuleLuckAwardLogicTreeNode - 规则过滤-兜底奖品 userId:xiaofuge strategyId:100006 awardId:102 ruleValue:1,100
24-07-23.16:27:36.147 [main            ] INFO  RuleLuckAwardLogicTreeNode - 规则过滤-兜底奖品 userId:xiaofuge strategyId:100006 awardId:1 awardRuleValue:100
24-07-23.16:27:36.147 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_luck_award code:0001
24-07-23.16:27:36.519 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 xiaofuge 100006 1 100
24-07-23.16:27:36.736 [main            ] INFO  RaffleStrategyTest_10  - 请求参数：{"strategyId":100006,"userId":"xiaofuge"}
24-07-23.16:27:36.736 [main            ] INFO  RaffleStrategyTest_10  - 测试结果：{"awardConfig":"100","awardId":1}
24-07-23.16:27:40.005 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.16:27:40.009 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 strategyId:100006 awardId:102
24-07-23.16:27:45.001 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.16:27:50.006 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.16:27:51.976 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-07-23.16:27:51.983 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
24-07-23.16:41:39.941 [main            ] INFO  RaffleStrategyTest_10  - Starting RaffleStrategyTest_10 using Java 1.8.0_412 on lumine.local with PID 16425 (started by lumine in /Users/lumine/code/java/xlm-market/xlm-market-app)
24-07-23.16:41:39.941 [main            ] INFO  RaffleStrategyTest_10  - The following 1 profile is active: "dev"
24-07-23.16:41:40.532 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-07-23.16:41:40.535 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-07-23.16:41:40.557 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
24-07-23.16:41:41.134 [main            ] INFO  Version                - Redisson 3.23.4
24-07-23.16:41:41.173 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-07-23.16:41:41.314 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-07-23.16:41:41.323 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-07-23.16:41:42.678 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-07-23.16:41:42.718 [main            ] INFO  RaffleStrategyTest_10  - Started RaffleStrategyTest_10 in 3.03 seconds (JVM running for 3.664)
24-07-23.16:41:43.017 [main            ] INFO  RaffleStrategyTest_10  - 测试结果：true
24-07-23.16:41:43.022 [main            ] INFO  DefaultLogicChain      - 【默认抽奖规则】userId:xiaofuge,strategyId:100006,awardId:101
24-07-23.16:41:43.023 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 xiaofuge 100006 101 rule_default
24-07-23.16:41:43.036 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-07-23.16:41:43.283 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-07-23.16:41:43.309 [main            ] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:xiaofuge strategyId:100006 awardId:101
24-07-23.16:41:43.309 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_lock code:0000
24-07-23.16:41:43.309 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:xiaofuge strategyId:100006 awardId:101
24-07-23.16:41:43.312 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:xiaofuge strategyId:100006 awardId:101
24-07-23.16:41:43.324 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_stock code:0001
24-07-23.16:41:43.324 [main            ] INFO  RuleLuckAwardLogicTreeNode - 规则过滤-兜底奖品 userId:xiaofuge strategyId:100006 awardId:101 ruleValue:1,100
24-07-23.16:41:43.324 [main            ] INFO  RuleLuckAwardLogicTreeNode - 规则过滤-兜底奖品 userId:xiaofuge strategyId:100006 awardId:1 awardRuleValue:100
24-07-23.16:41:43.324 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_luck_award code:0001
24-07-23.16:41:43.324 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 xiaofuge 100006 1 100
24-07-23.16:41:43.427 [main            ] INFO  RaffleStrategyTest_10  - 请求参数：{"strategyId":100006,"userId":"xiaofuge"}
24-07-23.16:41:43.430 [main            ] INFO  RaffleStrategyTest_10  - 测试结果：{"awardConfig":"100","awardId":1}
24-07-23.16:41:43.433 [main            ] INFO  DefaultLogicChain      - 【默认抽奖规则】userId:xiaofuge,strategyId:100006,awardId:102
24-07-23.16:41:43.433 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 xiaofuge 100006 102 rule_default
24-07-23.16:41:43.435 [main            ] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:xiaofuge strategyId:100006 awardId:102
24-07-23.16:41:43.435 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_lock code:0000
24-07-23.16:41:43.435 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:xiaofuge strategyId:100006 awardId:102
24-07-23.16:41:43.437 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:xiaofuge strategyId:100006 awardId:102
24-07-23.16:41:43.438 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_stock code:0001
24-07-23.16:41:43.438 [main            ] INFO  RuleLuckAwardLogicTreeNode - 规则过滤-兜底奖品 userId:xiaofuge strategyId:100006 awardId:102 ruleValue:1,100
24-07-23.16:41:43.438 [main            ] INFO  RuleLuckAwardLogicTreeNode - 规则过滤-兜底奖品 userId:xiaofuge strategyId:100006 awardId:1 awardRuleValue:100
24-07-23.16:41:43.438 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_luck_award code:0001
24-07-23.16:41:43.438 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 xiaofuge 100006 1 100
24-07-23.16:41:43.438 [main            ] INFO  RaffleStrategyTest_10  - 请求参数：{"strategyId":100006,"userId":"xiaofuge"}
24-07-23.16:41:43.439 [main            ] INFO  RaffleStrategyTest_10  - 测试结果：{"awardConfig":"100","awardId":1}
24-07-23.16:41:43.441 [main            ] INFO  DefaultLogicChain      - 【默认抽奖规则】userId:xiaofuge,strategyId:100006,awardId:102
24-07-23.16:41:43.441 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 xiaofuge 100006 102 rule_default
24-07-23.16:41:43.443 [main            ] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:xiaofuge strategyId:100006 awardId:102
24-07-23.16:41:43.443 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_lock code:0000
24-07-23.16:41:43.443 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:xiaofuge strategyId:100006 awardId:102
24-07-23.16:41:43.445 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:xiaofuge strategyId:100006 awardId:102
24-07-23.16:41:43.446 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_stock code:0001
24-07-23.16:41:43.446 [main            ] INFO  RuleLuckAwardLogicTreeNode - 规则过滤-兜底奖品 userId:xiaofuge strategyId:100006 awardId:102 ruleValue:1,100
24-07-23.16:41:43.446 [main            ] INFO  RuleLuckAwardLogicTreeNode - 规则过滤-兜底奖品 userId:xiaofuge strategyId:100006 awardId:1 awardRuleValue:100
24-07-23.16:41:43.446 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_luck_award code:0001
24-07-23.16:41:43.446 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 xiaofuge 100006 1 100
24-07-23.16:41:43.446 [main            ] INFO  RaffleStrategyTest_10  - 请求参数：{"strategyId":100006,"userId":"xiaofuge"}
24-07-23.16:41:43.446 [main            ] INFO  RaffleStrategyTest_10  - 测试结果：{"awardConfig":"100","awardId":1}
24-07-23.16:41:45.005 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.16:41:50.002 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.16:41:50.007 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 strategyId:100006 awardId:101
24-07-23.16:41:55.005 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.16:41:55.007 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 strategyId:100006 awardId:102
24-07-23.16:42:00.005 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.16:42:00.007 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 strategyId:100006 awardId:102
24-07-23.16:42:01.382 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-07-23.16:42:01.389 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
24-07-23.16:45:37.102 [main            ] INFO  RaffleStrategyTest_10  - Starting RaffleStrategyTest_10 using Java 1.8.0_412 on lumine.local with PID 16761 (started by lumine in /Users/lumine/code/java/xlm-market/xlm-market-app)
24-07-23.16:45:37.103 [main            ] INFO  RaffleStrategyTest_10  - The following 1 profile is active: "dev"
24-07-23.16:45:37.705 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-07-23.16:45:37.709 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-07-23.16:45:37.738 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
24-07-23.16:45:38.417 [main            ] INFO  Version                - Redisson 3.23.4
24-07-23.16:45:38.449 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-07-23.16:45:38.591 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-07-23.16:45:38.600 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-07-23.16:45:40.310 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-07-23.16:45:40.359 [main            ] INFO  RaffleStrategyTest_10  - Started RaffleStrategyTest_10 in 3.592 seconds (JVM running for 4.794)
24-07-23.16:45:40.837 [main            ] INFO  RaffleStrategyTest_10  - 测试结果：true
24-07-23.16:45:40.841 [main            ] INFO  DefaultLogicChain      - 【默认抽奖规则】userId:xiaofuge,strategyId:100006,awardId:102
24-07-23.16:45:40.842 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 xiaofuge 100006 102 rule_default
24-07-23.16:45:43.055 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-07-23.16:45:43.310 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-07-23.16:46:14.202 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.16:46:14.202 [HikariPool-1 housekeeper] WARN  HikariPool             - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m892ms).
24-07-23.16:46:14.203 [main            ] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:xiaofuge strategyId:100006 awardId:102
24-07-23.16:46:14.205 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_lock code:0000
24-07-23.16:46:16.720 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:xiaofuge strategyId:100006 awardId:102
24-07-23.16:46:16.728 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:xiaofuge strategyId:100006 awardId:102
24-07-23.16:46:16.757 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_stock code:0001
24-07-23.16:47:08.072 [HikariPool-1 housekeeper] WARN  HikariPool             - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=53s870ms).
24-07-23.16:47:08.075 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.16:47:12.160 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.16:47:28.012 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 strategyId:100006 awardId:102
24-07-23.16:47:28.011 [main            ] INFO  RuleLuckAwardLogicTreeNode - 规则过滤-兜底奖品 userId:xiaofuge strategyId:100006 awardId:102 ruleValue:1,100
24-07-23.16:47:30.808 [main            ] INFO  RuleLuckAwardLogicTreeNode - 规则过滤-兜底奖品 userId:xiaofuge strategyId:100006 awardId:1 awardRuleValue:100
24-07-23.16:48:24.201 [HikariPool-1 housekeeper] WARN  HikariPool             - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m16s128ms).
24-07-23.16:48:24.201 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_luck_award code:0001
24-07-23.16:48:26.663 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 xiaofuge 100006 1 100
24-07-23.16:48:26.802 [main            ] INFO  RaffleStrategyTest_10  - 请求参数：{"strategyId":100006,"userId":"xiaofuge"}
24-07-23.16:48:26.805 [main            ] INFO  RaffleStrategyTest_10  - 测试结果：{"awardConfig":"100","awardId":1}
24-07-23.16:48:26.810 [main            ] INFO  DefaultLogicChain      - 【默认抽奖规则】userId:xiaofuge,strategyId:100006,awardId:102
24-07-23.16:48:26.811 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 xiaofuge 100006 102 rule_default
24-07-23.16:48:30.138 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.16:48:35.774 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.16:48:39.340 [main            ] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:xiaofuge strategyId:100006 awardId:102
24-07-23.16:48:45.162 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.16:48:47.762 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_lock code:0000
24-07-23.16:48:50.425 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.16:48:52.414 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:xiaofuge strategyId:100006 awardId:102
24-07-23.16:48:54.581 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:xiaofuge strategyId:100006 awardId:102
24-07-23.16:48:55.353 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.16:49:23.735 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_stock code:0001
24-07-23.16:49:23.736 [main            ] INFO  RuleLuckAwardLogicTreeNode - 规则过滤-兜底奖品 userId:xiaofuge strategyId:100006 awardId:102 ruleValue:1,100
24-07-23.16:49:23.735 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.16:49:23.737 [main            ] INFO  RuleLuckAwardLogicTreeNode - 规则过滤-兜底奖品 userId:xiaofuge strategyId:100006 awardId:1 awardRuleValue:100
24-07-23.16:49:23.737 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_luck_award code:0001
24-07-23.16:49:23.737 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 xiaofuge 100006 1 100
24-07-23.16:49:23.739 [main            ] INFO  RaffleStrategyTest_10  - 请求参数：{"strategyId":100006,"userId":"xiaofuge"}
24-07-23.16:49:23.739 [main            ] INFO  RaffleStrategyTest_10  - 测试结果：{"awardConfig":"100","awardId":1}
24-07-23.16:49:23.744 [main            ] INFO  DefaultLogicChain      - 【默认抽奖规则】userId:xiaofuge,strategyId:100006,awardId:102
24-07-23.16:49:23.744 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 xiaofuge 100006 102 rule_default
24-07-23.16:49:23.750 [main            ] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:xiaofuge strategyId:100006 awardId:102
24-07-23.16:49:23.750 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_lock code:0000
24-07-23.16:49:23.750 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:xiaofuge strategyId:100006 awardId:102
24-07-23.16:49:23.752 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:xiaofuge strategyId:100006 awardId:102
24-07-23.16:49:23.754 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_stock code:0001
24-07-23.16:49:23.754 [main            ] INFO  RuleLuckAwardLogicTreeNode - 规则过滤-兜底奖品 userId:xiaofuge strategyId:100006 awardId:102 ruleValue:1,100
24-07-23.16:49:23.754 [main            ] INFO  RuleLuckAwardLogicTreeNode - 规则过滤-兜底奖品 userId:xiaofuge strategyId:100006 awardId:1 awardRuleValue:100
24-07-23.16:49:23.754 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_luck_award code:0001
24-07-23.16:49:23.754 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 xiaofuge 100006 1 100
24-07-23.16:49:23.754 [main            ] INFO  RaffleStrategyTest_10  - 请求参数：{"strategyId":100006,"userId":"xiaofuge"}
24-07-23.16:49:23.755 [main            ] INFO  RaffleStrategyTest_10  - 测试结果：{"awardConfig":"100","awardId":1}
24-07-23.16:49:23.798 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-07-23.16:49:23.992 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
24-07-23.16:49:27.118 [main            ] INFO  RaffleStrategyTest_10  - Starting RaffleStrategyTest_10 using Java 1.8.0_412 on lumine.local with PID 17092 (started by lumine in /Users/lumine/code/java/xlm-market/xlm-market-app)
24-07-23.16:49:27.120 [main            ] INFO  RaffleStrategyTest_10  - The following 1 profile is active: "dev"
24-07-23.16:49:27.680 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-07-23.16:49:27.682 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-07-23.16:49:27.700 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
24-07-23.16:49:28.260 [main            ] INFO  Version                - Redisson 3.23.4
24-07-23.16:49:28.292 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-07-23.16:49:28.449 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-07-23.16:49:28.461 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-07-23.16:49:29.899 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-07-23.16:49:29.952 [main            ] INFO  RaffleStrategyTest_10  - Started RaffleStrategyTest_10 in 3.117 seconds (JVM running for 3.946)
24-07-23.16:49:30.066 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.16:49:30.151 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 strategyId:100006 awardId:102
24-07-23.16:49:30.167 [scheduling-1    ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-07-23.16:49:30.304 [main            ] INFO  RaffleStrategyTest_10  - 测试结果：true
24-07-23.16:49:30.312 [main            ] INFO  DefaultLogicChain      - 【默认抽奖规则】userId:xiaofuge,strategyId:100006,awardId:102
24-07-23.16:49:30.314 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 xiaofuge 100006 102 rule_default
24-07-23.16:49:33.103 [scheduling-1    ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-07-23.16:49:33.681 [main            ] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:xiaofuge strategyId:100006 awardId:102
24-07-23.16:49:33.682 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_lock code:0000
24-07-23.16:49:34.021 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:xiaofuge strategyId:100006 awardId:102
24-07-23.16:49:34.029 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:xiaofuge strategyId:100006 awardId:102
24-07-23.16:49:34.046 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_stock code:0000
24-07-23.16:49:34.318 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-07-23.16:49:34.328 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
24-07-23.16:51:24.219 [main            ] INFO  RaffleStrategyTest_10  - Starting RaffleStrategyTest_10 using Java 1.8.0_412 on lumine.local with PID 17253 (started by lumine in /Users/lumine/code/java/xlm-market/xlm-market-app)
24-07-23.16:51:24.220 [main            ] INFO  RaffleStrategyTest_10  - The following 1 profile is active: "dev"
24-07-23.16:51:24.746 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-07-23.16:51:24.755 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-07-23.16:51:24.782 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
24-07-23.16:51:25.408 [main            ] INFO  Version                - Redisson 3.23.4
24-07-23.16:51:25.447 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-07-23.16:51:25.597 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-07-23.16:51:25.610 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-07-23.16:51:27.214 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-07-23.16:51:27.265 [main            ] INFO  RaffleStrategyTest_10  - Started RaffleStrategyTest_10 in 3.323 seconds (JVM running for 3.992)
24-07-23.16:51:27.630 [main            ] INFO  RaffleStrategyTest_10  - 测试结果：true
24-07-23.16:51:27.641 [main            ] INFO  DefaultLogicChain      - 【默认抽奖规则】userId:xiaofuge,strategyId:100006,awardId:102
24-07-23.16:51:27.643 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 xiaofuge 100006 102 rule_default
24-07-23.16:51:28.600 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-07-23.16:52:42.869 [main            ] INFO  RaffleStrategyTest_10  - Starting RaffleStrategyTest_10 using Java 1.8.0_412 on lumine.local with PID 17357 (started by lumine in /Users/lumine/code/java/xlm-market/xlm-market-app)
24-07-23.16:52:42.870 [main            ] INFO  RaffleStrategyTest_10  - The following 1 profile is active: "dev"
24-07-23.16:52:43.433 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-07-23.16:52:43.435 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-07-23.16:52:43.460 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
24-07-23.16:52:43.994 [main            ] INFO  Version                - Redisson 3.23.4
24-07-23.16:52:44.026 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-07-23.16:52:44.159 [redisson-netty-2-5] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-07-23.16:52:44.170 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-07-23.16:52:45.637 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-07-23.16:52:45.687 [main            ] INFO  RaffleStrategyTest_10  - Started RaffleStrategyTest_10 in 3.098 seconds (JVM running for 3.866)
24-07-23.16:52:46.021 [main            ] INFO  RaffleStrategyTest_10  - 测试结果：true
24-07-23.16:52:46.031 [main            ] INFO  DefaultLogicChain      - 【默认抽奖规则】userId:xiaofuge,strategyId:100006,awardId:102
24-07-23.16:52:46.032 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 xiaofuge 100006 102 rule_default
24-07-23.16:52:46.047 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-07-23.16:52:46.295 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-07-23.16:52:48.916 [main            ] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:xiaofuge strategyId:100006 awardId:102
24-07-23.16:52:48.922 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_lock code:0000
24-07-23.16:52:48.924 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:xiaofuge strategyId:100006 awardId:102
24-07-23.16:52:48.931 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:xiaofuge strategyId:100006 awardId:102
24-07-23.16:52:48.971 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_stock code:0000
24-07-23.16:52:48.989 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-07-23.16:52:49.002 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
24-07-23.16:54:02.062 [main            ] INFO  RaffleStrategyTest_10  - Starting RaffleStrategyTest_10 using Java 1.8.0_412 on lumine.local with PID 17463 (started by lumine in /Users/lumine/code/java/xlm-market/xlm-market-app)
24-07-23.16:54:02.062 [main            ] INFO  RaffleStrategyTest_10  - The following 1 profile is active: "dev"
24-07-23.16:54:02.598 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-07-23.16:54:02.604 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-07-23.16:54:02.623 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
24-07-23.16:54:03.209 [main            ] INFO  Version                - Redisson 3.23.4
24-07-23.16:54:03.246 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-07-23.16:54:03.388 [redisson-netty-2-5] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-07-23.16:54:03.401 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-07-23.16:54:04.869 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-07-23.16:54:04.922 [main            ] INFO  RaffleStrategyTest_10  - Started RaffleStrategyTest_10 in 3.142 seconds (JVM running for 3.858)
24-07-23.16:54:05.034 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.16:54:05.126 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 strategyId:100006 awardId:102
24-07-23.16:54:05.146 [scheduling-1    ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-07-23.16:54:05.307 [main            ] INFO  RaffleStrategyTest_10  - 测试结果：true
24-07-23.16:54:05.314 [main            ] INFO  DefaultLogicChain      - 【默认抽奖规则】userId:xiaofuge,strategyId:100006,awardId:102
24-07-23.16:54:05.315 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 xiaofuge 100006 102 rule_default
24-07-23.16:54:05.454 [scheduling-1    ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-07-23.16:54:05.492 [main            ] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:xiaofuge strategyId:100006 awardId:102
24-07-23.16:54:05.493 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_lock code:0000
24-07-23.16:54:05.493 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:xiaofuge strategyId:100006 awardId:102
24-07-23.16:54:05.496 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:xiaofuge strategyId:100006 awardId:102
24-07-23.16:54:05.511 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_stock code:0000
24-07-23.16:54:05.525 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-07-23.16:54:05.529 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
24-07-23.16:54:16.356 [main            ] INFO  RaffleStrategyTest_10  - Starting RaffleStrategyTest_10 using Java 1.8.0_412 on lumine.local with PID 17498 (started by lumine in /Users/lumine/code/java/xlm-market/xlm-market-app)
24-07-23.16:54:16.356 [main            ] INFO  RaffleStrategyTest_10  - The following 1 profile is active: "dev"
24-07-23.16:54:16.861 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-07-23.16:54:16.863 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-07-23.16:54:16.886 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
24-07-23.16:54:17.442 [main            ] INFO  Version                - Redisson 3.23.4
24-07-23.16:54:17.473 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-07-23.16:54:17.597 [redisson-netty-2-5] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-07-23.16:54:17.606 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-07-23.16:54:18.955 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-07-23.16:54:19.005 [main            ] INFO  RaffleStrategyTest_10  - Started RaffleStrategyTest_10 in 2.928 seconds (JVM running for 3.613)
24-07-23.16:54:19.333 [main            ] INFO  RaffleStrategyTest_10  - 测试结果：true
24-07-23.16:54:19.343 [main            ] INFO  DefaultLogicChain      - 【默认抽奖规则】userId:xiaofuge,strategyId:100006,awardId:102
24-07-23.16:54:19.344 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 xiaofuge 100006 102 rule_default
24-07-23.16:54:19.362 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-07-23.16:54:19.644 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-07-23.16:54:19.689 [main            ] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:xiaofuge strategyId:100006 awardId:102
24-07-23.16:54:19.691 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_lock code:0000
24-07-23.16:54:22.137 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.16:54:24.291 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 strategyId:100006 awardId:102
24-07-23.16:54:24.291 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:xiaofuge strategyId:100006 awardId:102
24-07-23.16:54:24.300 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:xiaofuge strategyId:100006 awardId:102
24-07-23.16:54:24.331 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_stock code:0000
24-07-23.16:54:25.175 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.16:55:13.632 [HikariPool-1 housekeeper] WARN  HikariPool             - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=51s493ms).
24-07-23.16:55:13.634 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 strategyId:100006 awardId:102
24-07-23.16:55:13.661 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-07-23.16:55:13.670 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
24-07-23.16:55:16.508 [main            ] INFO  RaffleStrategyTest_10  - Starting RaffleStrategyTest_10 using Java 1.8.0_412 on lumine.local with PID 17577 (started by lumine in /Users/lumine/code/java/xlm-market/xlm-market-app)
24-07-23.16:55:16.509 [main            ] INFO  RaffleStrategyTest_10  - The following 1 profile is active: "dev"
24-07-23.16:55:17.020 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-07-23.16:55:17.026 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-07-23.16:55:17.044 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 8 ms. Found 0 Redis repository interfaces.
24-07-23.16:55:17.603 [main            ] INFO  Version                - Redisson 3.23.4
24-07-23.16:55:17.633 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-07-23.16:55:17.758 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-07-23.16:55:17.767 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-07-23.16:55:19.335 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-07-23.16:55:19.390 [main            ] INFO  RaffleStrategyTest_10  - Started RaffleStrategyTest_10 in 3.153 seconds (JVM running for 3.868)
24-07-23.16:55:21.306 [main            ] INFO  RaffleStrategyTest_10  - Starting RaffleStrategyTest_10 using Java 1.8.0_412 on lumine.local with PID 17594 (started by lumine in /Users/lumine/code/java/xlm-market/xlm-market-app)
24-07-23.16:55:21.306 [main            ] INFO  RaffleStrategyTest_10  - The following 1 profile is active: "dev"
24-07-23.16:55:21.848 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-07-23.16:55:21.850 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-07-23.16:55:21.866 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 8 ms. Found 0 Redis repository interfaces.
24-07-23.16:55:22.416 [main            ] INFO  Version                - Redisson 3.23.4
24-07-23.16:55:22.447 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-07-23.16:55:22.579 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-07-23.16:55:22.593 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-07-23.16:55:24.191 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-07-23.16:55:24.239 [main            ] INFO  RaffleStrategyTest_10  - Started RaffleStrategyTest_10 in 3.207 seconds (JVM running for 3.903)
24-07-23.16:55:24.587 [main            ] INFO  RaffleStrategyTest_10  - 测试结果：true
24-07-23.16:55:24.598 [main            ] INFO  DefaultLogicChain      - 【默认抽奖规则】userId:xiaofuge,strategyId:100006,awardId:102
24-07-23.16:55:24.599 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 xiaofuge 100006 102 rule_default
24-07-23.16:55:24.617 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-07-23.16:55:24.848 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-07-23.16:55:24.884 [main            ] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:xiaofuge strategyId:100006 awardId:102
24-07-23.16:55:24.885 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_lock code:0000
24-07-23.16:55:25.698 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.16:55:25.699 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:xiaofuge strategyId:100006 awardId:102
24-07-23.16:55:25.707 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:xiaofuge strategyId:100006 awardId:102
24-07-23.16:55:25.707 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 strategyId:100006 awardId:102
24-07-23.16:55:25.739 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_stock code:0000
24-07-23.16:55:26.099 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 xiaofuge 100006 102 null
24-07-23.16:55:26.246 [main            ] INFO  RaffleStrategyTest_10  - 请求参数：{"strategyId":100006,"userId":"xiaofuge"}
24-07-23.16:55:26.248 [main            ] INFO  RaffleStrategyTest_10  - 测试结果：{"awardId":102}
24-07-23.16:55:26.251 [main            ] INFO  DefaultLogicChain      - 【默认抽奖规则】userId:xiaofuge,strategyId:100006,awardId:102
24-07-23.16:55:26.252 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 xiaofuge 100006 102 rule_default
24-07-23.16:55:26.254 [main            ] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:xiaofuge strategyId:100006 awardId:102
24-07-23.16:55:26.255 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_lock code:0000
24-07-23.16:55:26.491 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:xiaofuge strategyId:100006 awardId:102
24-07-23.16:55:26.495 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:xiaofuge strategyId:100006 awardId:102
24-07-23.16:55:26.497 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_stock code:0000
24-07-23.16:55:27.261 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 xiaofuge 100006 102 null
24-07-23.16:55:27.261 [main            ] INFO  RaffleStrategyTest_10  - 请求参数：{"strategyId":100006,"userId":"xiaofuge"}
24-07-23.16:55:27.261 [main            ] INFO  RaffleStrategyTest_10  - 测试结果：{"awardId":102}
24-07-23.16:55:27.269 [main            ] INFO  DefaultLogicChain      - 【默认抽奖规则】userId:xiaofuge,strategyId:100006,awardId:102
24-07-23.16:55:27.270 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 xiaofuge 100006 102 rule_default
24-07-23.16:55:27.276 [main            ] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:xiaofuge strategyId:100006 awardId:102
24-07-23.16:55:27.276 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_lock code:0000
24-07-23.16:55:27.912 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:xiaofuge strategyId:100006 awardId:102
24-07-23.16:55:27.917 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:xiaofuge strategyId:100006 awardId:102
24-07-23.16:55:27.920 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_stock code:0000
24-07-23.16:55:28.386 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 xiaofuge 100006 102 null
24-07-23.16:55:28.386 [main            ] INFO  RaffleStrategyTest_10  - 请求参数：{"strategyId":100006,"userId":"xiaofuge"}
24-07-23.16:55:28.386 [main            ] INFO  RaffleStrategyTest_10  - 测试结果：{"awardId":102}
24-07-23.16:55:30.002 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-23.16:55:30.004 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 strategyId:100006 awardId:102
24-07-23.16:55:33.236 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-07-23.16:55:33.244 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
